<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.4">
<title>OGC® EO Data Access Best Practice</title>
<link rel="stylesheet" href="./asciidoctor.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css">
<link rel="stylesheet" href="./coderay-asciidoctor.css">
</head>
<body class="book">
<div id="header">
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div id="ogcname" class="paragraph">
<p>Open Geospatial Consortium<br></p>
</div>
<div id="ogcheading" class="paragraph">
<p>Submission Date: TBD<br>
Publication Date: TBD<br>
Approval Date: TBD<br>
External identifier of this OGC® document: <a href="http://www.opengis.net/doc/BP/eo-data-access-bp" class="bare">http://www.opengis.net/doc/BP/eo-data-access-bp</a><br>
Internal reference number of this OGC® Document: OGC 16-118<br>
URL for this OGC® document: <a href="https://eox-a.github.io/eo-data-access-bp/" class="bare">https://eox-a.github.io/eo-data-access-bp/</a><br>
PDF version: <a href="https://eox-a.github.io/eo-data-access-bp/index.pdf" class="bare">https://eox-a.github.io/eo-data-access-bp/index.pdf</a><br>
Version: 0.0.1draft<br>
Category: OGC® Best Practice<br>
Editor: Stephan Meißl</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ogc_eo_data_access_best_practice">OGC® EO Data Access Best Practice</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Copyright © 2016 Open Geospatial Consortium.<br>
To obtain additional rights of use, visit <a href="http://www.opengeospatial.org/legal/" class="bare">http://www.opengeospatial.org/legal/</a><br></p>
</div>
<div class="paragraph">
<p><strong>Warning</strong></p>
</div>
<div class="paragraph">
<p>This document defines an OGC Best Practices on a particular technology or
approach related to an OGC standard. This document is not an OGC Standard and
may not be referred to as an OGC Standard. It is subject to change without
notice. However, this document is an official position of the OGC membership on
this particular technology topic.</p>
</div>
<div class="paragraph">
<p>Document type:          OGC Best Practice<br>
Document subtype:       Profile<br>
Document stage:         Draft proposed version<br>
Document language:      English<br></p>
</div>
<div class="sect1">
<h2 id="_license_agreement">License Agreement</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Permission is hereby granted by the Open Geospatial Consortium, ("Licensor"),
free of charge and subject to the terms set forth below, to any person
obtaining a copy of this Intellectual Property and any associated
documentation, to deal in the Intellectual Property without restriction (except
as set forth below), including without limitation the rights to implement, use,
copy, modify, merge, publish, distribute, and/or sublicense copies of the
Intellectual Property, and to permit persons to whom the Intellectual Property
is furnished to do so, provided that all copyright notices on the intellectual
property are retained intact and that each person to whom the Intellectual
Property is furnished agrees to the terms of this Agreement.</p>
</div>
<div class="paragraph">
<p>If you modify the Intellectual Property, all copies of the modified
Intellectual Property must include, in addition to the above copyright notice,
a notice that the Intellectual Property includes modifications that have not
been approved or adopted by LICENSOR.</p>
</div>
<div class="paragraph">
<p>THIS LICENSE IS A COPYRIGHT LICENSE ONLY, AND DOES NOT CONVEY ANY RIGHTS UNDER
ANY PATENTS THAT MAY BE IN FORCE ANYWHERE IN THE WORLD.</p>
</div>
<div class="paragraph">
<p>THE INTELLECTUAL PROPERTY IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, AND NONINFRINGEMENT OF THIRD
PARTY RIGHTS. THE COPYRIGHT HOLDER OR HOLDERS INCLUDED IN THIS NOTICE DO NOT
WARRANT THAT THE FUNCTIONS CONTAINED IN THE INTELLECTUAL PROPERTY WILL MEET
YOUR REQUIREMENTS OR THAT THE OPERATION OF THE INTELLECTUAL PROPERTY WILL BE
UNINTERRUPTED OR ERROR FREE. ANY USE OF THE INTELLECTUAL PROPERTY SHALL BE MADE
ENTIRELY AT THE USER&#8217;S OWN RISK. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR ANY
CONTRIBUTOR OF INTELLECTUAL PROPERTY RIGHTS TO THE INTELLECTUAL PROPERTY BE
LIABLE FOR ANY CLAIM, OR ANY DIRECT, SPECIAL, INDIRECT OR CONSEQUENTIAL
DAMAGES, OR ANY DAMAGES WHATSOEVER RESULTING FROM ANY ALLEGED INFRINGEMENT OR
ANY LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE
OR UNDER ANY OTHER LEGAL THEORY, ARISING OUT OF OR IN CONNECTION WITH THE
IMPLEMENTATION, USE, COMMERCIALIZATION OR PERFORMANCE OF THIS INTELLECTUAL
PROPERTY.</p>
</div>
<div class="paragraph">
<p>This license is effective until terminated. You may terminate it at any time by
destroying the Intellectual Property together with all copies in any form. The
license will also terminate if you fail to comply with any term or condition of
this Agreement. Except as provided in the following sentence, no such
termination of this license shall require the termination of any third party
end-user sublicense to the Intellectual Property which is in force as of the
date of notice of such termination. In addition, should the Intellectual
Property, or the operation of the Intellectual Property, infringe, or in
LICENSOR&#8217;s sole opinion be likely to infringe, any patent, copyright, trademark
or other right of a third party, you agree that LICENSOR, in its sole
discretion, may terminate this license without any compensation or liability to
you, your licensees or any other party. You agree upon termination of any kind
to destroy or cause to be destroyed the Intellectual Property together with all
copies in any form, whether held by you or by any third party.</p>
</div>
<div class="paragraph">
<p>Except as contained in this notice, the name of LICENSOR or of any other holder
of a copyright in all or part of the Intellectual Property shall not be used in
advertising or otherwise to promote the sale, use or other dealings in this
Intellectual Property without prior written authorization of LICENSOR or such
copyright holder. LICENSOR is and shall at all times be the sole entity that
may authorize you or any third party to use certification marks, trademarks or
other special designations to indicate compliance with any LICENSOR standards
or specifications.</p>
</div>
<div class="paragraph">
<p>This Agreement is governed by the laws of the Commonwealth of Massachusetts.
The application to this Agreement of the United Nations Convention on Contracts
for the International Sale of Goods is hereby expressly excluded. In the event
any provision of this Agreement shall be deemed unenforceable, void or invalid,
such provision shall be modified so as to make it valid and enforceable, and as
so modified the entire Agreement shall remain in full force and effect. No
decision, action or inaction by LICENSOR shall be construed to be a waiver of
any rights or remedies available to it. None of the Intellectual Property or
underlying information or technology may be downloaded or otherwise exported or
reexported in violation of U.S. export laws and regulations. In addition, you
are responsible for complying with any local laws in your jurisdiction which
may impact your right to import, export or use the Intellectual Property, and
you represent that you have complied with any regulations or registration
procedures required by applicable law to make this license enforceable</p>
</div>
<div id="toc" class="toc">
<div id="toctitle" class="title">Contents</div>
<ul class="sectlevel1">
<li><a href="#_ogc_eo_data_access_best_practice">OGC® EO Data Access Best Practice</a>
<ul class="sectlevel1">
<li><a href="#_license_agreement">License Agreement</a></li>
<li><a href="#_abstract">Abstract</a></li>
<li><a href="#_keywords">Keywords</a></li>
<li><a href="#_submitting_organizations">Submitting organizations</a></li>
<li><a href="#_document_contributor_contact_points">Document Contributor Contact Points</a></li>
<li><a href="#_changes_to_the_ogc_abstract_specification">Changes to the OGC ® Abstract Specification</a></li>
<li><a href="#_future_work">Future Work</a></li>
<li><a href="#_foreword">Foreword</a></li>
<li><a href="#_introduction">Introduction</a>
<ul class="sectlevel2">
<li><a href="#_eo_wcs">EO-WCS</a></li>
<li><a href="#_further_relevant_ogc_services">Further relevant OGC Services</a></li>
<li><a href="#_topics_covered">Topics Covered</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_ogc_eo_data_access_best_practice_2">OGC® EO Data Access Best Practice</a>
<ul class="sectlevel1">
<li><a href="#_scope">1. Scope</a></li>
<li><a href="#normative-references">2. Normative references</a></li>
<li><a href="#_terms_and_definitions">3. Terms and definitions</a>
<ul class="sectlevel2">
<li><a href="#_coverage">3.1. Coverage</a></li>
<li><a href="#_dataset">3.2. Dataset</a></li>
<li><a href="#_dataset_series">3.3. Dataset Series</a></li>
<li><a href="#_eo_coverage">3.4. EO Coverage</a></li>
<li><a href="#_eo_metadata">3.5. EO Metadata</a></li>
<li><a href="#_stitched_mosaic">3.6. Stitched Mosaic</a></li>
<li><a href="#_eo_product">3.7. EO Product</a></li>
<li><a href="#_eo_product_dataset">3.8. EO Product Dataset</a></li>
<li><a href="#_eo_product_quicklook">3.9. EO Product Quicklook</a></li>
<li><a href="#_lineage_record">3.10. Lineage record</a></li>
<li><a href="#_refers_to">3.11. refers to</a></li>
</ul>
</li>
<li><a href="#_conventions">4. Conventions</a>
<ul class="sectlevel2">
<li><a href="#_uml_notation">4.1. UML notation</a></li>
<li><a href="#_data_dictionary_tables">4.2. Data dictionary tables</a></li>
<li><a href="#_namespace_prefix_conventions">4.3. Namespace prefix conventions</a></li>
<li><a href="#_multiple_representations">4.4. Multiple representations</a></li>
</ul>
</li>
<li><a href="#cross-service-interaction">5. Cross Service Interaction</a>
<ul class="sectlevel2">
<li><a href="#_overview">5.1. Overview</a></li>
</ul>
</li>
<li><a href="#rangetype-description-enhancements">6. rangeType Description Enhancements</a>
<ul class="sectlevel2">
<li><a href="#_overview_2">6.1. Overview</a></li>
<li><a href="#_physical_properties">6.2. Physical Properties</a></li>
<li><a href="#_data_types">6.3. Data Types</a></li>
<li><a href="#_conversion_from_data_types_to_physical_properties">6.4. Conversion from Data Types to Physical Properties</a></li>
<li><a href="#_hint_for_rgb_generation">6.5. Hint for RGB Generation</a></li>
<li><a href="#_recommended_definitions">6.6. Recommended definitions</a>
<ul class="sectlevel3">
<li><a href="#__code_wcseo_datasemantics_code_code_swe_quantity_definition_code_and_code_swe_uom_code_code">6.6.1. <code>wcseo:dataSemantics</code>, <code>swe:Quantity/@definition</code>, and <code>swe:uom/@code</code></a></li>
<li><a href="#__code_wcseo_datatype_code">6.6.2. <code>wcseo:dataType</code></a></li>
<li><a href="#__code_wcseo_type_code_in_code_wcseo_datatype2datasemantics_code_and_code_wcseo_rgbgenerationhint_code">6.6.3. <code>wcseo:type</code> in <code>wcseo:dataType2dataSemantics</code> and <code>wcseo:RGBgenerationHint</code></a></li>
<li><a href="#__code_wcseo_bandsequence_code">6.6.4. <code>wcseo:bandSequence</code></a></li>
<li><a href="#__code_swe_datarecord_definition_code">6.6.5. <code>swe:DataRecord/@definition</code></a></li>
<li><a href="#__code_swe_field_name_code_vs_code_swe_field_swe_quantity_swe_identifier_code">6.6.6. <code>swe:field/@name</code> vs. <code>swe:field/swe:Quantity/swe:identifier</code></a></li>
<li><a href="#__code_swe_nilvalue_reason_code">6.6.7. <code>swe:nilValue/@reason</code></a></li>
</ul>
</li>
<li><a href="#_examples">6.7. Examples</a></li>
</ul>
</li>
<li><a href="#coverage-collections">7. Coverage Collections</a>
<ul class="sectlevel2">
<li><a href="#_motivation">7.1. Motivation</a></li>
<li><a href="#uniform-coverage-grouping">7.2. Uniform Coverage Grouping</a>
<ul class="sectlevel3">
<li><a href="#_overview_3">7.2.1. Overview</a></li>
<li><a href="#_a_concept_for_uniform_coverage_groupings">7.2.2. A Concept for Uniform Coverage Groupings</a></li>
<li><a href="#_coverage_groupings_in_cis_1_1_versus_eo_wcs_1_1">7.2.3. Coverage Groupings in CIS 1.1 versus EO-WCS 1.1</a></li>
<li><a href="#_modeling_of_grouping_data_and_operations">7.2.4. Modeling of Grouping Data and Operations</a></li>
</ul>
</li>
<li><a href="#_general_grouping_of_coverages">7.3. General Grouping of Coverages</a>
<ul class="sectlevel3">
<li><a href="#_concept">7.3.1. Concept</a></li>
<li><a href="#grouping-of-associated-data">7.3.2. Encoding and Grouping of Associated Data</a></li>
</ul>
</li>
<li><a href="#collection-and-product-registration">7.4. Collection and Product Registration</a></li>
</ul>
</li>
<li><a href="#condense-coverage-description-information">8. Condense Coverage Description Information</a>
<ul class="sectlevel2">
<li><a href="#_overview_4">8.1. Overview</a></li>
<li><a href="#_opensearch_code_view_code_parameter">8.2. OpenSearch <code>view</code> parameter</a>
<ul class="sectlevel3">
<li><a href="#_objective">8.2.1. Objective</a></li>
<li><a href="#__code_view_code_parameter">8.2.2. <code>view</code> Parameter</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#wcs-masking-extension">9. WCS Masking Extension</a>
<ul class="sectlevel2">
<li><a href="#_overview_5">9.1. Overview</a></li>
</ul>
</li>
<li><a href="#conclusions">10. Conclusions</a></li>
<li><a href="#_bibliography">Bibliography</a></li>
<li><a href="#_revision_history">Annex A: Revision History</a></li>
</ul>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_abstract">Abstract</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This OGC Best Practice document provides conventions and recommendations on how
to utilize OGC services to provide access to Earth Observation data.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_keywords">Keywords</h2>
<div class="sectionbody">
<div class="paragraph">
<p>ogcdoc, eo, earth observation, data access, wcs, eo-wcs</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_submitting_organizations">Submitting organizations</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following organizations have submitted this Best Practice to the
Open GeoSpatial Consortium, Inc.:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://eox.at">EOX IT Services GmbH</a></p>
</li>
<li>
<p><a href="http://www.dlr.de">German Aerospace Center (DLR)</a></p>
</li>
<li>
<p><a href="http://www.geo-solutions.it">GeoSolutions S.A.S.</a></p>
</li>
<li>
<p><a href="http://www.esa.int">European Space Agency (ESA)</a></p>
</li>
<li>
<p><a href="http://www.jacobs-university.de">Jacobs University Bremen</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_document_contributor_contact_points">Document Contributor Contact Points</h2>
<div class="sectionbody">
<div class="paragraph">
<p>All questions regarding this document should be directed to the editor or the
contributors.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Organization</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Stephan Meißl &lt;<a href="mailto:stephan.meissl@eox.at">stephan.meissl@eox.at</a>&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://eox.at">EOX IT Services GmbH</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Peter Baumann &lt;<a href="mailto:p.baumann@jacobs-university.de">p.baumann@jacobs-university.de</a>&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://www.jacobs-university.de">Jacobs University Bremen</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Andrea Aime &lt;<a href="mailto:andrea.aime@geo-solutions.it">andrea.aime@geo-solutions.it</a>&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://www.geo-solutions.it">GeoSolutions S.A.S.</a></p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_changes_to_the_ogc_abstract_specification">Changes to the OGC ® Abstract Specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The OGC ® Abstract Specification does not require any changes to accommodate
the technical contents of this (part of this) document.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_future_work">Future Work</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Suggested additions, changes, and comments on this draft document are welcome
and encouraged. Such suggestions may be submitted by email message to the
document editor or contributors named above, by creating an issue or a pull
request at the <a href="https://github.com/EOX-A/eo-data-access-bp">GitHub repository</a>,
or by making suggested changes in an edited copy of this document.</p>
</div>
<div class="paragraph">
<p>Presently, this document is a living document until officially submitted to
OGC seeking formal adoption. Below is a list of items that are currently
worked on or that could be worked on in future activities.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#cross-service-interaction">Cross Service Interaction</a> - Detailing how to
structure the data offered in the various services as well as how to
explicitly link between those services. The OGC services under consideration
are: OpenSearch, WMS, WMTS, WCS, and DS-EO.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>There is a proposal available in the "EVO-ODAS Recommendation on building a
discovery interface using OpenSearch Technical Note (EVOODAS-TN-GEO-4112
version 1.3.0 from 2017-10-24)" developed in parallel by GeoSolutions on how
to address this item for linking from OpenSearch to the other services.</p>
</div>
<div class="paragraph">
<p>For the other linking mechanisms a proposal still needs to be worked on.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#coverage-collections">Coverage Collections</a> - Adding support for typical
EO concepts like multi-resolution products or cloud masks to OGC services.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>We propose to carefully review forthcoming CIS 1.1 against EO-WCS 1.1
particularly how far it accomplishes the grouping concepts proposed in there.</p>
</div>
<div class="paragraph">
<p>Further we propose to review the idea to derive DatasetSeries subtypes as
described in the relevant section below.</p>
</div>
<div class="paragraph">
<p>Finally the <a href="#collection-and-product-registration">Collection and Product
Registration</a> using a HTTP REST API for programmatic collection and product
registration probably based on WCS-T needs to be drafted.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#condense-coverage-description-information">Condense Coverage Description
Information</a> - Applying performance optimizations to facilitate and enable
modern web based applications.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The OpenSearch SRU (Search and Retrieval via URL) extension needs to be
investigated for suitability. Alternatively the already drafted usage of a new
parameter named <code>view</code> needs to be further pursued and elaborated.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#wcs-masking-extension">WCS Masking Extension</a> - Proposing support for
retrieving non-rectangular subsets of coverages from WCS.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This needs to be drafted.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A <a href="#conclusions">summary</a> for the intended use and benefits of EO-WCS 1.1 is
planned to be added.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_foreword">Foreword</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This OGC Best Practice document details proposed configuration and
instantiation conventions and recommendations on how to utilize OGC services
for access to Earth Observation (EO) data. These proposed conventions and
recommendations have been developed in the <a href="http://www.esa.int/ESA">European
Space Agency (ESA)</a> funded project
<a href="https://wiki.services.eoportal.org/tiki-index.php?page=EVO-ODAS">Evolution of
EO Online Data Access Services (EVO-ODAS)</a>.</p>
</div>
<div class="paragraph">
<p>It is defined how to utilize OGC&#8217;s <a href="http://www.opengeospatial.org/standards/wcs">
Web Coverage Service (WCS)</a> with EO products including generic conventions and
recommendations for data and metadata mapping and conversions which are to be
used in concrete tailorings for specific missions. It further considers how to
link to other services like CSW, OpenSearch, WMS, WMTS, DS-EO, and WPS.</p>
</div>
<div class="paragraph">
<p>Suggested additions, changes, and comments on this draft document are welcome
and encouraged. Such suggestions may be submitted by email message to the
document editor or contributors named above, by creating an issue or a pull
request at the <a href="https://github.com/EOX-A/eo-data-access-bp">GitHub repository</a>,
or by making suggested changes in an edited copy of this document.</p>
</div>
<div class="paragraph">
<p><em>Attention is drawn to the possibility that some of the elements of this
document may be the subject of patent rights. The Open Geospatial Consortium
shall not be held responsible for identifying any or all such patent rights.</em></p>
</div>
<div class="paragraph">
<p><em>Recipients of this document are requested to submit, with their comments,
notification of any relevant patent claims or other intellectual property
rights of which they may be aware that might be infringed by any implementation
of the standard set forth in this document, and to provide supporting
documentation.</em></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_introduction">Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <a href="https://eox-a.github.io/eo-data-access-bp/">Earth Observation Data Access
Best Practice document</a> at hand provides a detailed look at the access to EO
data from an OGC perspective.</p>
</div>
<div class="paragraph">
<p>EO data is typically available as raster data or, in OGC terminology, as
coverages. Thus the main OGC service relevant for the data access task is the
<a href="http://www.opengeospatial.org/standards/wcs">Web Coverage Service (WCS)</a> and its
<a href="https://schpidi.github.io/eo-wcs/">Earth Observation Application Profile
(EO-WCS)</a>. Nonetheless further OGC services like the
<a href="http://www.opengeospatial.org/standards/wms">Web Map Service (WMS)</a> and the
<a href="http://www.opengeospatial.org/standards/wmts">Web Map Tile Service (WMTS)</a> for
visualization, the <a href="http://www.opengeospatial.org/standards/cat">Catalog Service
(CSW, OpenSearch)</a> for discovery, or the
<a href="http://www.opengeospatial.org/standards/wps">Web Processing Service (WPS)</a> for
processing need to be taken into account in order to provide a well integrated
solution for data consumers.</p>
</div>
<div class="sect2">
<h3 id="_eo_wcs">EO-WCS</h3>
<div class="paragraph">
<p>The <a href="https://schpidi.github.io/eo-wcs/">WCS 2.0 Earth Observation Application
Profile (EO-WCS) [OGC 10-140r2]</a> has been adopted by OGC defining a profile of
WCS 2.0 for use on Earth Observation data. Naturally the present document
focuses on EO-WCS but makes sure not to forget the surroundings to put it into
context.</p>
</div>
<div class="paragraph">
<p>EO-WCS adds some concepts relevant for the EO domain on one side and some
constraints on the other to the generic WCS:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Specific Earth Observation coverages (<a href="#_eo_coverage">EO Coverage</a> or <a href="#_dataset">Dataset</a>) which
have at least a footprint on Earth as well as a temporal validity extent. Each
<a href="#_eo_coverage">EO Coverage</a> has to have an <a href="#_eo_metadata">EO Metadata</a> set [OGC 10-157r4] contained in
its metadata which describes the coverage on hand on a higher semantic level.</p>
</li>
<li>
<p>Heterogeneous groupings or collections of Datasets into  <a href="#_dataset_series">Dataset Series</a>.
This hierarchy allows for an efficient retrieval of metadata as well as data
via the newly added <a href="#DescribeEOCoverageSet">DescribeEOCoverageSet</a> and <a href="#GetEOCoverageSet">GetEOCoverageSet</a>
operations respectively.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Although named <a href="#_dataset_series">Dataset Series</a> this concept can and should be used to
group together any <a href="#_dataset">Datasets</a>. An example is to group together the
Datasets stemming from a multi-resolution satellite image to form an
<a href="#_eo_product">EO Product</a>.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<a href="#_dataset_series">Dataset Series</a> may also include other Dataset Series as well as
<a href="#_stitched_mosaic">Stitched Mosaics</a>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<a href="#_dataset_series">Dataset Series</a> themselves are not coverages.
</td>
</tr>
</table>
</div>
<div class="ulist">
<ul>
<li>
<p>Homogeneous groupings or collections of spatially non-overlapping subsets of
Datasets into <a href="#_stitched_mosaic">Stitched Mosaics</a>.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<a href="#_stitched_mosaic">Stitched Mosaics</a> are accessible themselves as
coverages.
</td>
</tr>
</table>
</div>
<div id="DescribeEOCoverageSet" class="ulist">
<ul>
<li>
<p>DescribeEOCoverageSet operation allowing to retrieve metadata from
collections applying spatial and/or temporal constraints.</p>
</li>
</ul>
</div>
<div id="GetEOCoverageSet" class="ulist">
<ul>
<li>
<p>GetEOCoverageSet operation allowing to retrieve data from collections
applying spatial and/or temporal constraints.</p>
</li>
<li>
<p>Constraint mandatory WCS extensions.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>One of the motivations to introduce the concept of <a href="#_dataset_series">Dataset Series</a> is to
limit the size of capabilities responses. They only need to report the
identifiers of <a href="#_dataset_series">Dataset Series</a> instead of summaries for all coverages
available. Metadata for individual coverages is obtained using the new
DescribeEOCoverageSet operation. This operation supports basic spatial and
temporal searching as well as paging and thus stepping through the available
data. <a href="#sequence-eo-wcs">Figure 1</a> shows the sequence to use EO-WCS.</p>
</div>
<div id="sequence-eo-wcs" class="imageblock">
<div class="content">
<img src="images/sequence_eo-wcs.png" alt="EO-WCS Sequence Diagram">
</div>
<div class="title">Figure 1. Sequence diagram showing the exploitation of EO-WCS</div>
</div>
</div>
<div class="sect2">
<h3 id="_further_relevant_ogc_services">Further relevant OGC Services</h3>
<div class="paragraph">
<p>Before downloading data it is typically desired or at least useful to view the
data and metadata. The OGC service standardized for data viewing is the
<a href="http://www.opengeospatial.org/standards/wms">Web Map Service (WMS)</a>. For the EO
domain the <a href="http://portal.opengeospatial.org/files/?artifact_id=30912">Web Map
Services - Profile for EO Products (EO-WMS) [07-063r1]</a> has been designed.
This WMS profile allows to browse through collections using the time parameter
on one layer. Provided that the same data is available from the EO-WCS Dataset
Series and the EO-WMS collection layer a combined exploitation of EO-WCS and
EO-WMS as shown in <a href="#sequence-eo-wms-eo-wcs">Figure 2</a> is feasible.</p>
</div>
<div id="sequence-eo-wms-eo-wcs" class="imageblock">
<div class="content">
<img src="images/sequence_eo-wms_eo-wcs.png" alt="EO-WMS &amp; EO-WCS Sequence Diagram">
</div>
<div class="title">Figure 2. Sequence diagram showing the combined exploitation of EO-WCS and EO-WMS</div>
</div>
<div class="paragraph">
<p>Of course the WMS in this scenario can easily be replaced by the
<a href="http://www.opengeospatial.org/standards/wmts">Web Map Tile Service (WMTS)</a>
specifically designed to improve the performance of WMS.</p>
</div>
<div class="paragraph">
<p>Further OGC standardized services to take into account are the
<a href="http://www.opengeospatial.org/standards/cat">Catalog Service (CSW, OpenSearch)</a>
for discovery, the
<a href="https://portal.opengeospatial.org/files/?artifact_id=55210">Download Service for
Earth Observation Products Best Practice (DS-EO) [13-043]</a> as well as the
<a href="http://www.opengeospatial.org/standards/wps">Web Processing Service (WPS)</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_topics_covered">Topics Covered</h3>
<div class="paragraph">
<p>Centered around EO-WCS this Best Practice document defines conventions and
makes recommendations for the following topics:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#cross-service-interaction">Cross Service Interaction</a> - Detailing how to
structure the data offered in the various services as well as how to explicitly
link between those services. The OGC services under consideration are:
OpenSearch, WMS, WMTS, WCS, and DS-EO.</p>
</li>
<li>
<p><a href="#rangetype-description-enhancements">rangeType Description Enhancements</a> -
Designing usage and utilization of how to describe the range values of
products.</p>
</li>
<li>
<p><a href="#collection-and-product-registration">Collection and Product Registration</a> -
Drafting an HTTP REST API for programmatic collection and product registration.</p>
</li>
<li>
<p><a href="#coverage-collections">Grouping of Coverages and Associated Data</a> - Adding
support for typical EO concepts like multi-resolution products or cloud masks
to OGC services.</p>
</li>
<li>
<p><a href="#condense-coverage-description-information">Condense Coverage Description
Information</a> - Applying performance optimizations to facilitate and enable
modern web based applications.</p>
</li>
<li>
<p><a href="#wcs-masking-extension">WCS Masking Extension</a> - Proposing support for
retrieving non-rectangular subsets of coverages from WCS.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
<h1 id="_ogc_eo_data_access_best_practice_2" class="sect0">OGC® EO Data Access Best Practice</h1>
<div class="sect1">
<h2 id="_scope">1. Scope</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This OGC Best Practice document details configuration and instantiation
conventions for access to Earth Observation (EO) data. It defines how to
utilize EO-WCS with EO products including generic conventions and recommendations
for data and metadata mapping and conversion which are to be used in concrete
tailoring for specific missions. It further considers how to link to other
services like CSW, WMS, and WPS.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="normative-references">2. Normative references</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following normative documents contain provisions that, through reference in
this text, constitute provisions of this specification. For dated references,
subsequent amendments to, or revisions of, any of these publications do not
apply. For undated references, the latest edition of the normative document
referred to applies.</p>
</div>
<div class="paragraph">
<p>OGC 06-121r9, <em>OGC Web Services Common Standard</em>, version 2.0</p>
</div>
<div class="paragraph">
<p>OGC 09-146r2, <em>OGC® Coverage Implementation Schema</em> (renamed from <em>OGC®
GML Application Schema - Coverages</em>), version 1.0</p>
</div>
<div class="paragraph">
<p>OGC 09-110r4, <em>OGC® WCS 2.0 Interface Standard- Core: Corrigendum</em>, version
2.0</p>
</div>
<div class="paragraph">
<p>OGC 10-140r2, <em>OGC® Web Coverage Service 2.0 Interface Standard - Earth
Observation Application Profile</em>, version 1.1</p>
</div>
<div class="paragraph">
<p>OGC 11-053r1, <em>OGC® Web Coverage Service Interface Standard - CRS Extension</em>,
version 1.0
OGC 12-039, <em>OGC® Web Coverage Service Interface Standard - Scaling Extension</em>,
version 1.0</p>
</div>
<div class="paragraph">
<p>OGC 12-040, <em>OGC® Web Coverage Service Interface Standard - Range Subsetting
Extension</em>, version 1.0</p>
</div>
<div class="paragraph">
<p>OGC 12-049, <em>OGC® Web Coverage Service Interface Standard - Interpolation
Extension</em>, version 1.0</p>
</div>
<div class="paragraph">
<p>OGC 09-147r3, <em>OGC® Web Coverage Service 2.0 Interface Standard - KVP Protocol
Binding Extension - Corrigendum</em>, version 1.0</p>
</div>
<div class="paragraph">
<p>OGC 09-149r1, <em>OGC® Web Coverage Service 2.0 Interface Standard - XML/SOAP
Protocol Binding Extension</em>, version 1.0</p>
</div>
<div class="paragraph">
<p>OGC 12-100r1, <em>OGC® GML Application Schema - Coverages - GeoTIFF Coverage
Encoding Profile</em>, version 1.0</p>
</div>
<div class="paragraph">
<p>OGC 14-100r2, <em>OGC® CF-netCDF 3.0 encoding using GML Coverage Application
Schema</em>, version 2.0</p>
</div>
<div class="paragraph">
<p>OGC 12-108, <em>OGC® GML Application Schema - Coverages JPEG2000 Coverage Encoding
Extension</em>, version 1.0</p>
</div>
<div class="paragraph">
<p>OGC 10-157r4, <em>OGC® Earth Observation Metadata profile of Observations &amp;
Measurements</em>, version 1.1</p>
</div>
<div class="paragraph">
<p>OGC 07-063r1, <em>OpenGIS® Web Map Services - Profile for EO Products</em>, version
0.3.3</p>
</div>
<div class="paragraph">
<p><em>OpenSearch Parameter extension</em>, version 1.0 Draft 2, accessed 2016-43-20,
<a href="http://www.opensearch.org/Specifications/OpenSearch/Extensions/Parameter/1.0/Draft_2" class="bare">http://www.opensearch.org/Specifications/OpenSearch/Extensions/Parameter/1.0/Draft_2</a></p>
</div>
<div class="paragraph">
<p>OGC 13-026r8, <em>OGC® OpenSearch Extension for Earth Observation</em>, version 1.0</p>
</div>
<div class="paragraph">
<p>OGC 13-043, <em>OGC Download Service for Earth Observation Products Best
Practice</em>, version 1.0</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_terms_and_definitions">3. Terms and definitions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This document uses the standard terms defined in Subclause 5.3 of [OGC
06-121r9], which is based on the ISO/IEC Directives, Part 2, Rules for the
structure and drafting of International Standards. In particular, the word
"shall" (not "must") is the verb form used to indicate a requirement to be
strictly followed to conform to this standard.</p>
</div>
<div class="paragraph">
<p>For the purposes of this document, the terms and definitions given in the above
references, particularly EO-WCS [10-140r2], apply. In addition, the following
terms and definitions apply. An arrow "&#8594;" indicates that the following term is
defined in this Clause.</p>
</div>
<div class="sect2">
<h3 id="_coverage">3.1. Coverage</h3>
<div class="paragraph">
<p>digital representation of a spatio-temporally varying phenomenon as defined in</p>
</div>
</div>
<div class="sect2">
<h3 id="_dataset">3.2. Dataset</h3>
<div class="paragraph">
<p>&#8594; <a href="#_eo_coverage">EO Coverage</a></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
A Dataset usually represents observations obtained by satellite
instruments.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_dataset_series">3.3. Dataset Series</h3>
<div class="paragraph">
<p>collection of &#8594; <a href="#_eo_coverage">EO Coverages</a></p>
</div>
</div>
<div class="sect2">
<h3 id="_eo_coverage">3.4. EO Coverage</h3>
<div class="paragraph">
<p>Rectified Grid &#8594; <a href="#_coverage">Coverage</a> or Referenceable Grid &#8594; <a href="#_coverage">Coverage</a> having an
&#8594; <a href="#_eo_metadata">EO Metadata</a> record and a WGS84 footprint</p>
</div>
</div>
<div class="sect2">
<h3 id="_eo_metadata">3.5. EO Metadata</h3>
<div class="paragraph">
<p>&#8594; <a href="#_eo_coverage">EO Coverage&#8217;s</a> metadata record</p>
</div>
</div>
<div class="sect2">
<h3 id="_stitched_mosaic">3.6. Stitched Mosaic</h3>
<div class="paragraph">
<p>&#8594; <a href="#_eo_coverage">EO Coverage</a> composed from subsets of one or more co-referenced &#8594;
<a href="#_dataset">Datasets</a></p>
</div>
</div>
<div class="sect2">
<h3 id="_eo_product">3.7. EO Product</h3>
<div class="paragraph">
<p>An EO Product contains one or more related &#8594; <a href="#_eo_product">EO Product</a> Datasets plus metadata
and optionally auxiliary data like &#8594; <a href="#_eo_product">EO Product</a> Quicklooks.</p>
</div>
</div>
<div class="sect2">
<h3 id="_eo_product_dataset">3.8. EO Product Dataset</h3>
<div class="paragraph">
<p>One or more files each containing one or more &#8594; <a href="#_eo_coverage">EO Coverages</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_eo_product_quicklook">3.9. EO Product Quicklook</h3>
<div class="paragraph">
<p>A visual representation of a usually reduced &#8594; <a href="#_eo_product">EO Product</a> Dataset encoded
in an image format. The &#8594; <a href="#_eo_product">EO Product</a> Dataset may combine different bands.</p>
</div>
</div>
<div class="sect2">
<h3 id="_lineage_record">3.10. Lineage record</h3>
<div class="paragraph">
<p>Data structure documenting an operation that has been applied to the &#8594;
<a href="#_coverage">Coverage</a> it is part of</p>
</div>
</div>
<div class="sect2">
<h3 id="_refers_to">3.11. refers to</h3>
<div class="paragraph">
<p>contains, in its &#8594; <a href="#_eo_metadata">EO Metadata</a> element as defined in [OGC 10-157r4], the
&#8594; <a href="#_eo_metadata">EO Metadata</a> element of</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_conventions">4. Conventions</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_uml_notation">4.1. UML notation</h3>
<div class="paragraph">
<p>Unified Modeling Language (UML) static structure diagrams appearing in this
specification are used as described in Subclause 5.2 of OGC Web Services Common
[OGC 06-121r9].</p>
</div>
</div>
<div class="sect2">
<h3 id="_data_dictionary_tables">4.2. Data dictionary tables</h3>
<div class="paragraph">
<p>The UML model data dictionary is specified herein in a series of tables. The
contents of the columns in these tables are described in Subclause 5.5 of [OGC
06-121r9]. The contents of these data dictionary tables are normative, including
any table footnotes.</p>
</div>
</div>
<div class="sect2">
<h3 id="_namespace_prefix_conventions">4.3. Namespace prefix conventions</h3>
<div class="paragraph">
<p>The following namespaces are used in this document. The prefix abbreviations
used constitute conventions used here, but are <strong>not</strong> normative. The namespaces
to which the prefixes refer are normative, however.</p>
</div>
<table id="namespace_mappings" class="tableblock frame-all grid-all spread">
<caption class="title">Table 1. Namespace mappings</caption>
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 44.4444%;">
<col style="width: 44.4445%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">Prefix</th>
<th class="tableblock halign-left valign-top">Namespace URI</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">xsd</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://www.w3.org/2001/XMLSchema" class="bare">http://www.w3.org/2001/XMLSchema</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">XML Schema namespace</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">ows</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://www.opengis.net/ows/2.0" class="bare">http://www.opengis.net/ows/2.0</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OWS Common 2.0</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">gml</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://www.opengis.net/gml/3.2" class="bare">http://www.opengis.net/gml/3.2</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GML 3.2.1</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">gmlcov</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://www.opengis.net/gmlcov/1.0" class="bare">http://www.opengis.net/gmlcov/1.0</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Coverages Implementation Schema
1.0</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">wcs</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://www.opengis.net/wcs/2.0" class="bare">http://www.opengis.net/wcs/2.0</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WCS 2.0</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">eop</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://www.opengis.net/eop/2.1" class="bare">http://www.opengis.net/eop/2.1</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Earth Observation Metadata
Profile of Observations and Measurements</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">opt</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://www.opengis.net/opt/2.1" class="bare">http://www.opengis.net/opt/2.1</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optical Earth Observation
Metadata Profile of Observations and Measurements (extension of eop)</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">sar</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://www.opengis.net/sar/2.1" class="bare">http://www.opengis.net/sar/2.1</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SAR Earth Observation Metadata
Profile of Observations and Measurements (extension of eop)</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">wcseo</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://www.opengis.net/wcs/wcseo/1.1" class="bare">http://www.opengis.net/wcs/wcseo/1.1</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WCS Application Profile - Earth
Observation 1.1</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">scal</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://www.opengis.net/wcs/scaling/1.0" class="bare">http://www.opengis.net/wcs/scaling/1.0</a> (schema uses
<a href="http://www.opengis.net/WCS_service-extension_scaling/1.0" class="bare">http://www.opengis.net/WCS_service-extension_scaling/1.0</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WCS Scaling Extension</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://www.opengis.net/wcs/interpolation/1.0" class="bare">http://www.opengis.net/wcs/interpolation/1.0</a> (schema uses
<a href="http://www.opengis.net/WCS_service-extension_interpolation/1.0" class="bare">http://www.opengis.net/WCS_service-extension_interpolation/1.0</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WCS Interpolation
Extension</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">crs</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://www.opengis.net/wcs/crs/1.0" class="bare">http://www.opengis.net/wcs/crs/1.0</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WCS CRS Extension</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">gmd</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://www.isotc211.org/2005/gmd" class="bare">http://www.isotc211.org/2005/gmd</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ISO 19139 Metadata</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">gmi</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://standards.iso.org/iso/19115/-2/gmi/1.0" class="bare">http://standards.iso.org/iso/19115/-2/gmi/1.0</a> or
<a href="http://www.isotc211.org/2005/gmi" class="bare">http://www.isotc211.org/2005/gmi</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ISO 19139-2 Metadata</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">mdb</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://standards.iso.org/iso/19115/-3/mdb/1.0" class="bare">http://standards.iso.org/iso/19115/-3/mdb/1.0</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ISO 19115-3 Metadata</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_multiple_representations">4.4. Multiple representations</h3>
<div class="paragraph">
<p>When multiple representations of the same information are given in a
specification document these are consistent. Should this not be the case then
this is considered an error, and the
<a href="http://schemas.opengis.net/wcs/wcseo/1.1/">XML Schema</a> shall take precedence.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="cross-service-interaction">5. Cross Service Interaction</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_overview">5.1. Overview</h3>
<div class="paragraph">
<p>In a number of scenarios and use cases it is necessary to be able to link from
one service to another, holding e.g. different views on the same data. For
example a user might first be presented with an RGB view on some data via WMS
before downloading the actual data, that is, full bands via WCS. The question
is, how is a client supposed to construct WCS requests for the same product
just seen via WMS? Currently there is no standard way defined how to provide
such links.</p>
</div>
<div class="paragraph">
<p>We propose to address the cross service interaction item by giving
recommendations on how to structure the data offered in the various services as
well as how to explicitly link between them. These explicit link
recommendations include these services: OpenSearch, WMS, WMTS, WCS, and DS-EO.</p>
</div>
<div class="paragraph">
<p>An example for a data structuring recommendation is that for a collection there
should be an EO-WMS layer and an EO-WCS DatasetSeries provided both reusing the
ID of the collection. Thus clients know that a product viewed via a GetMap
request with TIME parameter can be downloaded via a GetEOCoverageSet request
using the same TIME parameter value.</p>
</div>
<div class="paragraph">
<p>First explicit linking recommendations are given in the "EVO-ODAS
Recommendation on building a discovery interface using OpenSearch Technical
Note (EVOODAS-TN-GEO-4112 version 1.3.0 from 2017-10-24)" by GeoSolutions. The
recommendation there is to use OWC ATOM <code>offering</code> elements linking to the EO
Product in the respective service. Note that it also includes recommendations
on how to structure these links in order to link to a single product. In short
the recommendation is to link to a tailored Capabilities document like e.g.,
<code><a href="http://u.rl?service=WMS&amp;acceptVersions=1.3.0&amp;request=GetCapabilities&amp;layers=S2" class="bare">http://u.rl?service=WMS&amp;acceptVersions=1.3.0&amp;request=GetCapabilities&amp;layers=S2</a></code>.
This covers all links from OpenSearch to any other service.</p>
</div>
<div class="paragraph">
<p>In the same way recommendations will be given from (EO-)WMS, WMTS, (EO-)WCS,
and DS-EO to the respective four other services using for example
<code>wms:DataURL</code>, in the layer specification of the WMS Capabilities linking to
the corresponding EO-WCS DatasetSeries.</p>
</div>
<div class="paragraph">
<p>TODO</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="rangetype-description-enhancements">6. rangeType Description Enhancements</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_overview_2">6.1. Overview</h3>
<div class="paragraph">
<p>The rangeType component of a coverage describes the common data type all this
coverage&#8217;s range values (such as pixels) share. In programming languages, this
typically consists of differentiating between signed integer, unsigned integer,
float, etc.</p>
</div>
<div class="paragraph">
<p>The rangeType concept, however, goes far beyond such classical data typing;
adopting OGC O&amp;M definitions, a comprehensive semantics description can be
expressed indicating the range value type (which can be a classical data type
such as "non-negative integer", but can also denote application semantics such
as "radiation", "SAR") given by a URL, a definition of the unit of measure of
the values, null values, and several more can be expressed.</p>
</div>
<div class="paragraph">
<p>In the basic, domain-agnostic OGC Coverage Implementation Schema (CIS, formerly
known as GML Application Schema, GMLCOV) only these general items are defined.
EO-WCS 1.1 extends this range type description, as it is used in WCS 2, with
EO-specific detail information.</p>
</div>
<div class="paragraph">
<p>The extension includes elements to specify the measured physical properties
(<code>wcseo:dataSemantics</code>), the data types of stored numbers (<code>wcseo:dataType</code>),
the conversion from stored numbers to physical properties
(<code>wcseo:dataType2dataSemantics</code>), as well as a hint for how to generate a RGB
version (<code>wcseo:RGBgenerationHint</code>).</p>
</div>
<div class="paragraph">
<p>The additional range type information is provided via the
<code>wcseo:rangeTypeExtension</code> element which is either included once for the whole
range type under the <code>swe:DataRecord</code> element or separately for each channel,
often referred to as band, under each <code>swe:DataRecord/swe:field/swe:Quantity</code>
element. It may also be included in both locations for example when there is
one common RGB generation hint but the data conversion is specific for each
band.</p>
</div>
<div class="paragraph">
<p>The new elements are introduced one by one in the following sections and
extensive examples are given <a href="#_examples">below</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_physical_properties">6.2. Physical Properties</h3>
<div class="paragraph">
<p>The <code>wcseo:rangeTypeExtension</code> element first includes the <code>wcseo:dataSemantics</code>
element of type <code>anyURI</code>. This element holds an URI preferably resolving to a
description of the observed physical property like
<code><a href="http://sweet.jpl.nasa.gov/2.3/stateSpectralBand.owl#Visible" class="bare">http://sweet.jpl.nasa.gov/2.3/stateSpectralBand.owl#Visible</a></code>.</p>
</div>
<div class="paragraph">
<p>This element needs to be synchronized with the <code>definition</code> attribute of each
<code>swe:Quantity</code> element as well as the unit of measure defined via the <code>code</code>
attribute of the <code>swe:uom</code> element again of each <code>swe:Quantity</code> element.</p>
</div>
<div class="paragraph">
<p>XML instance examples included with the OGC schemas make use of
<code><a href="http://www.opengis.net/def/property/OGC/0/Radiance" class="bare">http://www.opengis.net/def/property/OGC/0/Radiance</a></code> for the <code>definition</code>
attribute which doesn&#8217;t resolve to something useful as expected. Another URI
used in OGC examples is
<code><a href="http://sweet.jpl.nasa.gov/2.0/physRadiation.owl#Radiance" class="bare">http://sweet.jpl.nasa.gov/2.0/physRadiation.owl#Radiance</a></code>. The latest version
of this at the time of writing is
<code><a href="http://sweet.jpl.nasa.gov/2.3/propEnergyFlux.owl#Radiance" class="bare">http://sweet.jpl.nasa.gov/2.3/propEnergyFlux.owl#Radiance</a></code>.</p>
</div>
<div class="paragraph">
<p>It is suspected that the ESA funded projects RARE, SMAAD, OBEOS, and/or
PRODTREES define URIs to describe physical properties as well. However, a web
research didn&#8217;t bring up anything useful in this direction. Thus, for the time
being, the examples given use the SWEET ontologies defined by the NASA Jet
Propulsion Laboratory (<a href="http://sweet.jpl.nasa.gov" class="bare">http://sweet.jpl.nasa.gov</a>).</p>
</div>
<div class="paragraph">
<p>An example for a unit of measure code is <code>W.m-2.sr-1</code> as defined by
<code><a href="http://sweet.jpl.nasa.gov/2.3/reprSciUnits.owl#wattPerMeterSquaredPerSteradian" class="bare">http://sweet.jpl.nasa.gov/2.3/reprSciUnits.owl#wattPerMeterSquaredPerSteradian</a></code>
for radiance as used above.</p>
</div>
<div class="paragraph">
<p>SWE Common mandates the usage of units as defined by
<a href="http://aurora.regenstrief.org/UCUM" class="bare">http://aurora.regenstrief.org/UCUM</a>. However, this server is not accessible
anymore and seems to be moved to <a href="http://unitsofmeasure.org/ucum.html" class="bare">http://unitsofmeasure.org/ucum.html</a>.</p>
</div>
<div class="paragraph">
<p>Another physical property example is spectral radiance with URI
<code><a href="http://sweet.jpl.nasa.gov/2.3/propEnergyFlux.owl#SpectralRadiance" class="bare">http://sweet.jpl.nasa.gov/2.3/propEnergyFlux.owl#SpectralRadiance</a></code> and unit of
measure code <code>W.m-2.sr-1.nm-1</code> as defined by
<code><a href="http://sweet.jpl.nasa.gov/2.3/reprSciUnits.owl#wattPerMeterSquaredPerSteradianPerWavelength" class="bare">http://sweet.jpl.nasa.gov/2.3/reprSciUnits.owl#wattPerMeterSquaredPerSteradianPerWavelength</a></code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_data_types">6.3. Data Types</h3>
<div class="paragraph">
<p>The <code>wcseo:rangeTypeExtension</code> element further includes the <code>wcseo:dataType</code>
element, again of type <code>anyURI</code>. This element again holds an URI preferably
resolving to a description of the data type. Examples of such URIs are
<code><a href="http://www.opengis.net/def/dataType/OGC/1.1/nonNegativeInteger" class="bare">http://www.opengis.net/def/dataType/OGC/1.1/nonNegativeInteger</a></code>,
<code><a href="http://www.opengis.net/def/dataType/OGC/0/unsignedInt" class="bare">http://www.opengis.net/def/dataType/OGC/0/unsignedInt</a></code>, or
<code><a href="http://www.opengis.net/def/property/netcdf/1.0/unsignedShort" class="bare">http://www.opengis.net/def/property/netcdf/1.0/unsignedShort</a></code>.</p>
</div>
<div class="paragraph">
<p>The data type is also implicitly provided via the actual coverage encoding.
However, to describe it explicitly in the <code>wcseo:rangeTypeExtension</code> element
allows clients to retrieve it also in coverage descriptions and without need to
understand and parse the actual coverage encoding format.</p>
</div>
</div>
<div class="sect2">
<h3 id="_conversion_from_data_types_to_physical_properties">6.4. Conversion from Data Types to Physical Properties</h3>
<div class="paragraph">
<p>In order to be able to convert the stored numbers to the value of the actual
measured physical property the <code>wcseo:dataType2dataSemantics</code> element is added
to the <code>wcseo:rangeTypeExtension</code>. It describes the conversion via two real
number intervals and a type.</p>
</div>
<div class="paragraph">
<p><code>wcseo:intervalFrom</code> gives the interval of values stored in the coverage,
<code>wcseo:intervalTo</code> specifies the interval the stored values are converted to,
and <code>wcseo:type</code> defines which conversion method to use. Both intervals are
given via two real numbers and the type via anyURI.</p>
</div>
<div class="paragraph">
<p>The example below describes a linear transformation, as typically used for
optical data, from \$[1,4095\$] to
\$[390.0000,780.0000\$] i.e. for a value \$x\$ between
\$1\$ and \$4095\$ the actual measured value
\$y\$ is calculated as: \$y = 390 + (x-1) * (780-390) /
(4095-1)\$</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;wcseo:dataType2dataSemantics&gt;</span>
  <span class="tag">&lt;wcseo:intervalFrom&gt;</span>1 4095<span class="tag">&lt;/wcseo:intervalFrom&gt;</span>
  <span class="tag">&lt;wcseo:intervalTo&gt;</span>390.0000 780.0000<span class="tag">&lt;/wcseo:intervalTo&gt;</span>
  <span class="tag">&lt;wcseo:type&gt;</span>http://sweet.jpl.nasa.gov/2.3/reprMathFunction.owl#Linear<span class="tag">&lt;/wcseo:type&gt;</span>
<span class="tag">&lt;/wcseo:dataType2dataSemantics&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Another example, given below, describes the inverse to a logarithmic
transformation as for example sometimes used for radar data. The
transformation of stored values \$x\$ in the interval
\$[1,65535\$] to observed values \$y\$ in the interval
\$[2,1000000000\$] is given by \$y = 2 *
e^(((x-1)*(ln(1000000000)-ln(2)))/(65535-1))\$.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;wcseo:dataType2dataSemantics&gt;</span>
  <span class="tag">&lt;wcseo:intervalFrom&gt;</span>1 65535<span class="tag">&lt;/wcseo:intervalFrom&gt;</span>
  <span class="tag">&lt;wcseo:intervalTo&gt;</span>2 1000000000<span class="tag">&lt;/wcseo:intervalTo&gt;</span>
  <span class="tag">&lt;wcseo:type&gt;</span>http://sweet.jpl.nasa.gov/2.3/reprMathFunction.owl#ExponentialFunction<span class="tag">&lt;/wcseo:type&gt;</span>
<span class="tag">&lt;/wcseo:dataType2dataSemantics&gt;</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_hint_for_rgb_generation">6.5. Hint for RGB Generation</h3>
<div class="paragraph">
<p>The last element in the <code>wcseo:rangeTypeExtension</code> element is the
<code>wcseo:RGBgenerationHint</code> element. It is meant to provide a hint for clients
wanting to visualize the data. It includes the elements <code>wcseo:bandSequence</code>,
<code>wcseo:intervalFrom</code>, <code>wcseo:intervalTo</code>, and <code>wcseo:type</code>. The first is a list
of three band names or band arithmetic instructions delimited by spaces used
for the three bands to generate the RGB version. The names used shall be equal
to <code>name</code> attributes of the respective <code>swe:field</code> element. The other three
elements are comparable to the ones used in the data conversion above.</p>
</div>
<div class="paragraph">
<p>The example below describes the RGB generation from a single band product by
reusing the single band three times and logarithmically stretching the interval
\$[100,10000000\$] to \$[1,255\$] i.e. value \$x\$ is
converted to \$y\$ using \$y =
((ln(x)-ln(100))*(255-1))/(ln(10000000)-ln(100))+1\$.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;wcseo:RGBgenerationHint&gt;</span>
  <span class="tag">&lt;wcseo:bandSequence&gt;</span>gray gray gray<span class="tag">&lt;/wcseo:bandSequence&gt;</span>
  <span class="tag">&lt;wcseo:intervalFrom&gt;</span>100 10000000<span class="tag">&lt;/wcseo:intervalFrom&gt;</span>
  <span class="tag">&lt;wcseo:intervalTo&gt;</span>1 255<span class="tag">&lt;/wcseo:intervalTo&gt;</span>
  <span class="tag">&lt;wcseo:type&gt;</span>http://sweet.jpl.nasa.gov/2.3/reprMathFunction.owl#Logarithmic<span class="tag">&lt;/wcseo:type&gt;</span>
<span class="tag">&lt;/wcseo:RGBgenerationHint&gt;</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_recommended_definitions">6.6. Recommended definitions</h3>
<div class="paragraph">
<p>This section details our recommendations for the most commonly used data as
well as for data not covered here. Of course data providers are free to choose
any definitions, it&#8217;s just highly recommended to use resolvable URIs providing
meaningful descriptions ideally machine as well as human readable.</p>
</div>
<div class="sect3">
<h4 id="__code_wcseo_datasemantics_code_code_swe_quantity_definition_code_and_code_swe_uom_code_code">6.6.1. <code>wcseo:dataSemantics</code>, <code>swe:Quantity/@definition</code>, and <code>swe:uom/@code</code></h4>
<div class="paragraph">
<p>The non-exhaustive list below provides recommendations for the values of the
three items <code>wcseo:dataSemantics</code>, <code>definition</code> attribute of <code>swe:Quantity</code>,
and <code>code</code> attribute of <code>swe:Quantity/swe:uom</code> for the most common use cases.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Panchromatic</p>
<div class="ulist">
<ul>
<li>
<p><code>wcseo:dataSemantics</code></p>
<div class="ulist">
<ul>
<li>
<p><code><a href="http://sweet.jpl.nasa.gov/2.3/stateSpectralBand.owl#Visible" class="bare">http://sweet.jpl.nasa.gov/2.3/stateSpectralBand.owl#Visible</a></code></p>
</li>
</ul>
</div>
</li>
<li>
<p><code>definition</code></p>
<div class="ulist">
<ul>
<li>
<p><code><a href="http://sweet.jpl.nasa.gov/2.3/propEnergyFlux.owl#SpectralRadiance" class="bare">http://sweet.jpl.nasa.gov/2.3/propEnergyFlux.owl#SpectralRadiance</a></code></p>
</li>
</ul>
</div>
</li>
<li>
<p><code>code</code></p>
<div class="ulist">
<ul>
<li>
<p><code>W.m-2.sr-1.nm-1</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>RGB</p>
<div class="ulist">
<ul>
<li>
<p><code>wcseo:dataSemantics</code></p>
<div class="ulist">
<ul>
<li>
<p><code><a href="http://sweet.jpl.nasa.gov/2.3/stateSpectralBand.owl#Red" class="bare">http://sweet.jpl.nasa.gov/2.3/stateSpectralBand.owl#Red</a></code></p>
</li>
<li>
<p><code><a href="http://sweet.jpl.nasa.gov/2.3/stateSpectralBand.owl#Green" class="bare">http://sweet.jpl.nasa.gov/2.3/stateSpectralBand.owl#Green</a></code></p>
</li>
<li>
<p><code><a href="http://sweet.jpl.nasa.gov/2.3/stateSpectralBand.owl#Blue" class="bare">http://sweet.jpl.nasa.gov/2.3/stateSpectralBand.owl#Blue</a></code></p>
</li>
</ul>
</div>
</li>
<li>
<p><code>definition</code></p>
<div class="ulist">
<ul>
<li>
<p><code><a href="http://sweet.jpl.nasa.gov/2.3/propEnergyFlux.owl#SpectralRadiance" class="bare">http://sweet.jpl.nasa.gov/2.3/propEnergyFlux.owl#SpectralRadiance</a></code></p>
</li>
</ul>
</div>
</li>
<li>
<p><code>code</code></p>
<div class="ulist">
<ul>
<li>
<p><code>W.m-2.sr-1.nm-1</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>SAR</p>
<div class="ulist">
<ul>
<li>
<p><code>wcseo:dataSemantics</code></p>
<div class="ulist">
<ul>
<li>
<p><code><a href="http://sweet.jpl.nasa.gov/2.3/stateSpectralBand.owl#CBand" class="bare">http://sweet.jpl.nasa.gov/2.3/stateSpectralBand.owl#CBand</a></code></p>
</li>
</ul>
</div>
</li>
<li>
<p><code>definition</code></p>
<div class="ulist">
<ul>
<li>
<p><code><a href="http://sweet.jpl.nasa.gov/2.3/propSpaceMultidimensional.owl#RadarCrossSection" class="bare">http://sweet.jpl.nasa.gov/2.3/propSpaceMultidimensional.owl#RadarCrossSection</a></code></p>
</li>
</ul>
</div>
</li>
<li>
<p><code>code</code></p>
<div class="ulist">
<ul>
<li>
<p><code>dB</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Further URIs</p>
<div class="ulist">
<ul>
<li>
<p><code>wcseo:dataSemantics</code></p>
<div class="ulist">
<ul>
<li>
<p>Most concepts in <code><a href="http://sweet.jpl.nasa.gov/2.3/stateSpectralBand.owl" class="bare">http://sweet.jpl.nasa.gov/2.3/stateSpectralBand.owl</a></code></p>
</li>
</ul>
</div>
</li>
<li>
<p><code>definition</code></p>
<div class="ulist">
<ul>
<li>
<p><code><a href="http://sweet.jpl.nasa.gov/2.3/propEnergyFlux.owl#Radiance" class="bare">http://sweet.jpl.nasa.gov/2.3/propEnergyFlux.owl#Radiance</a></code></p>
</li>
<li>
<p><code><a href="http://sweet.jpl.nasa.gov/2.3/propEnergyFlux.owl#Intensity" class="bare">http://sweet.jpl.nasa.gov/2.3/propEnergyFlux.owl#Intensity</a></code></p>
</li>
</ul>
</div>
</li>
<li>
<p><code>code</code></p>
<div class="ulist">
<ul>
<li>
<p><code>W.m-2.sr-1</code></p>
</li>
<li>
<p><code>W.m-2</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="__code_wcseo_datatype_code">6.6.2. <code>wcseo:dataType</code></h4>
<div class="paragraph">
<p>The <code>wcseo:dataType</code> needs to match the data type actually used in the coverage
encoding like GeoTIFF. The non-exhaustive list below provides recommendations
for URIs to use. Further definitions can be retrieved using the base URIs from
the examples given below.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code><a href="http://www.opengis.net/def/dataType/OGC/0/unsignedByte" class="bare">http://www.opengis.net/def/dataType/OGC/0/unsignedByte</a></code></p>
</li>
<li>
<p><code><a href="http://www.opengis.net/def/dataType/OGC/0/unsignedShort" class="bare">http://www.opengis.net/def/dataType/OGC/0/unsignedShort</a></code></p>
</li>
<li>
<p><code><a href="http://www.opengis.net/def/dataType/OGC/0/unsignedInt" class="bare">http://www.opengis.net/def/dataType/OGC/0/unsignedInt</a></code></p>
</li>
<li>
<p><code><a href="http://www.opengis.net/def/dataType/OGC/0/unsignedLong" class="bare">http://www.opengis.net/def/dataType/OGC/0/unsignedLong</a></code></p>
</li>
<li>
<p><code><a href="http://www.w3.org/2001/XMLSchema#unsignedByte" class="bare">http://www.w3.org/2001/XMLSchema#unsignedByte</a></code></p>
</li>
<li>
<p><code><a href="http://www.w3.org/2001/XMLSchema#unsignedShort" class="bare">http://www.w3.org/2001/XMLSchema#unsignedShort</a></code></p>
</li>
<li>
<p><code><a href="http://www.w3.org/2001/XMLSchema#integer" class="bare">http://www.w3.org/2001/XMLSchema#integer</a></code></p>
</li>
<li>
<p><code><a href="http://www.w3.org/2001/XMLSchema#nonNegativeInteger" class="bare">http://www.w3.org/2001/XMLSchema#nonNegativeInteger</a></code></p>
</li>
<li>
<p><code><a href="http://www.w3.org/2001/XMLSchema#double" class="bare">http://www.w3.org/2001/XMLSchema#double</a></code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Other possible but not recommended values are provided in the list below.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code><a href="http://www.opengis.net/def/dataType/OGC/1.1/nonNegativeInteger" class="bare">http://www.opengis.net/def/dataType/OGC/1.1/nonNegativeInteger</a></code></p>
</li>
<li>
<p><code><a href="http://www.opengis.net/def/property/netcdf/1.0/unsignedShort" class="bare">http://www.opengis.net/def/property/netcdf/1.0/unsignedShort</a></code></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="__code_wcseo_type_code_in_code_wcseo_datatype2datasemantics_code_and_code_wcseo_rgbgenerationhint_code">6.6.3. <code>wcseo:type</code> in <code>wcseo:dataType2dataSemantics</code> and <code>wcseo:RGBgenerationHint</code></h4>
<div class="paragraph">
<p>Recommendations for possible values for the <code>wcseo:type</code> element used to define
data conversions are provided below.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code><a href="http://sweet.jpl.nasa.gov/2.3/reprMathFunction.owl#Linear" class="bare">http://sweet.jpl.nasa.gov/2.3/reprMathFunction.owl#Linear</a></code></p>
</li>
<li>
<p><code><a href="http://sweet.jpl.nasa.gov/2.3/reprMathFunction.owl#Logarithmic" class="bare">http://sweet.jpl.nasa.gov/2.3/reprMathFunction.owl#Logarithmic</a></code></p>
</li>
<li>
<p><code><a href="http://sweet.jpl.nasa.gov/2.3/reprMathFunction.owl#ExponentialFunction" class="bare">http://sweet.jpl.nasa.gov/2.3/reprMathFunction.owl#ExponentialFunction</a></code></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="__code_wcseo_bandsequence_code">6.6.4. <code>wcseo:bandSequence</code></h4>
<div class="paragraph">
<p>The <code>wcseo:bandSequence</code> element used in the <code>wcseo:RGBgenerationHint</code> is
defined as type <code>NameTriple</code> which is a space delimited list of three elements
of type <code>anyURI</code>. Typically these three elements each reference a <code>name</code>
attribute of a <code>swe:field</code> element. An additional option is to define three
arithmetic expression like \$"band1"*1/3+"band2"*2/3\$. Note that the
arithmetic expressions themselves need to be URL-encoded and particularly must
not include spaces. A valid example would be <code>band1%2F3%2Bband2%2A2%2F3
band1%2A2%2F3%2Bband2%2F3 %28band1%2Bband3%29%2F2</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="__code_swe_datarecord_definition_code">6.6.5. <code>swe:DataRecord/@definition</code></h4>
<div class="paragraph">
<p>The non-exhaustive list below provides recommendations for the value of the
definition` attribute of <code>swe:DataRecord</code>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code><a href="http://www.opengis.net/def/property/OGC-EO/0/opt/SpectralMode/PANCHROMATIC" class="bare">http://www.opengis.net/def/property/OGC-EO/0/opt/SpectralMode/PANCHROMATIC</a></code></p>
</li>
<li>
<p><code><a href="http://www.opengis.net/def/property/OGC-EO/0/opt/SpectralMode/COLOR" class="bare">http://www.opengis.net/def/property/OGC-EO/0/opt/SpectralMode/COLOR</a></code></p>
</li>
<li>
<p><code><a href="http://www.opengis.net/def/property/OGC-EO/0/opt/SpectralMode/MULTISPECTRAL" class="bare">http://www.opengis.net/def/property/OGC-EO/0/opt/SpectralMode/MULTISPECTRAL</a></code></p>
</li>
<li>
<p><code><a href="http://www.opengis.net/def/property/OGC-EO/0/sar/PolarizationMode/HH" class="bare">http://www.opengis.net/def/property/OGC-EO/0/sar/PolarizationMode/HH</a></code></p>
</li>
<li>
<p><code><a href="http://sweet.jpl.nasa.gov/2.3/stateSpectralBand.owl#Monochromatic" class="bare">http://sweet.jpl.nasa.gov/2.3/stateSpectralBand.owl#Monochromatic</a></code></p>
</li>
<li>
<p><code><a href="http://sweet.jpl.nasa.gov/2.3/stateSpectralBand.owl#Polychromatic" class="bare">http://sweet.jpl.nasa.gov/2.3/stateSpectralBand.owl#Polychromatic</a></code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The list below shows other possible but not recommended URIs.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code><a href="http://www.opengis.net/def/ogc-eo/opt/SpectralMode/PANCHROMATIC" class="bare">http://www.opengis.net/def/ogc-eo/opt/SpectralMode/PANCHROMATIC</a></code></p>
</li>
<li>
<p><code><a href="http://www.opengis.net/def/ogc-eo/opt/SpectralMode/COLOR" class="bare">http://www.opengis.net/def/ogc-eo/opt/SpectralMode/COLOR</a></code></p>
</li>
<li>
<p><code><a href="http://www.opengis.net/def/order/OGC-EO/0/SpectralBandColorComposition" class="bare">http://www.opengis.net/def/order/OGC-EO/0/SpectralBandColorComposition</a></code></p>
</li>
<li>
<p><code><a href="http://www.opengis.net/def/order/OGC-EO/0/SpectralBandComposition" class="bare">http://www.opengis.net/def/order/OGC-EO/0/SpectralBandComposition</a></code></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="__code_swe_field_name_code_vs_code_swe_field_swe_quantity_swe_identifier_code">6.6.6. <code>swe:field/@name</code> vs. <code>swe:field/swe:Quantity/swe:identifier</code></h4>
<div class="paragraph">
<p>The <code>name</code> attribute of <code>swe:field</code> is defined as type <code>NCName</code>. This mainly
means that it must not include characters like <code>:</code> (colon), <code>@</code>, <code>$</code>, <code>%</code>, <code>&amp;</code>,
<code>/</code>, <code>+</code>, <code>,</code>, <code>;</code>, or any whitespace characters. If further must not start
with a number, minus, or dot.</p>
</div>
<div class="paragraph">
<p>The range subsetting extension of WCS [OGC 12-040] uses this <code>name</code> attribute
in its <code>RangeComponent</code> element to select bands for retrieval.</p>
</div>
<div class="paragraph">
<p>Coverages, however, may use not <code>NCName</code> compliant IDs for their bands. It is,
for example, quite common to identify variables within a netCDF file with
strings including blanks or colons.</p>
</div>
<div class="paragraph">
<p>The <code>swe:field</code> element includes in its <code>swe:Quantity</code> element a
<code>swe:identifier</code> element which is of type anyURI and can potentially hold any
complex ID given it is URL-encoded.</p>
</div>
<div class="paragraph">
<p>For coverages using non <code>NCName</code> IDs for their bands it is recommended to
provide the full IDs, potentially URL-encoded, in the <code>swe:identifier</code> element.
It is further recommended to use the respective first word (<code>NCNAME</code> type
substring i.e. starting from it&#8217;s first character up to and excluding the first
character which is not allowed in an <code>NCName</code>) of the IDs for the <code>name</code>
attributes.</p>
</div>
<div class="paragraph">
<p>For example an ID of <code>gray band</code> should use <code>gray</code> for the <code>name</code> attribute and
<code>gray%20band</code> for the <code>swe:identifier</code> element.</p>
</div>
</div>
<div class="sect3">
<h4 id="__code_swe_nilvalue_reason_code">6.6.7. <code>swe:nilValue/@reason</code></h4>
<div class="paragraph">
<p>The recommendations for the value of the <code>reason</code> attribute of <code>swe:nilValue</code>
are given below.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code><a href="http://www.opengis.net/def/nil/OGC/0/unknown" class="bare">http://www.opengis.net/def/nil/OGC/0/unknown</a></code></p>
</li>
<li>
<p><code><a href="http://www.opengis.net/def/nil/OGC/0/BelowDetectionRange" class="bare">http://www.opengis.net/def/nil/OGC/0/BelowDetectionRange</a></code></p>
</li>
<li>
<p><code><a href="http://www.opengis.net/def/nil/OGC/0/AboveDetectionRange" class="bare">http://www.opengis.net/def/nil/OGC/0/AboveDetectionRange</a></code></p>
</li>
<li>
<p><code><a href="http://www.opengis.net/def/nil/OGC/0/inapplicable" class="bare">http://www.opengis.net/def/nil/OGC/0/inapplicable</a></code></p>
</li>
<li>
<p><code><a href="http://www.opengis.net/def/nil/OGC/0/missing" class="bare">http://www.opengis.net/def/nil/OGC/0/missing</a></code></p>
</li>
<li>
<p><code><a href="http://www.opengis.net/def/nil/OGC/0/template" class="bare">http://www.opengis.net/def/nil/OGC/0/template</a></code></p>
</li>
<li>
<p><code><a href="http://www.opengis.net/def/nil/OGC/0/withheld" class="bare">http://www.opengis.net/def/nil/OGC/0/withheld</a></code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_examples">6.7. Examples</h3>
<div class="paragraph">
<p>The following provides an example <code>gmlcov:rangeType</code> element including
additional range type information for RGB generation on <code>swe:DataRecord</code> level
as well as data conversion information on <code>swe:Quantity</code> level.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;gmlcov:rangeType&gt;</span>
  <span class="tag">&lt;swe:DataRecord</span> <span class="attribute-name">definition</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.opengis.net/def/property/OGC-EO/0/opt/SpectralMode/PANCHROMATIC</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;swe:extension&gt;</span>
      <span class="tag">&lt;wcseo:rangeTypeExtension&gt;</span>
        <span class="tag">&lt;wcseo:RGBgenerationHint&gt;</span>
          <span class="tag">&lt;wcseo:bandSequence&gt;</span>gray gray gray<span class="tag">&lt;/wcseo:bandSequence&gt;</span>
          <span class="tag">&lt;wcseo:intervalFrom&gt;</span>1 4095<span class="tag">&lt;/wcseo:intervalFrom&gt;</span>
          <span class="tag">&lt;wcseo:intervalTo&gt;</span>1 255<span class="tag">&lt;/wcseo:intervalTo&gt;</span>
          <span class="tag">&lt;wcseo:type&gt;</span>http://sweet.jpl.nasa.gov/2.3/reprMathFunction.owl#Logarithmic<span class="tag">&lt;/wcseo:type&gt;</span>
        <span class="tag">&lt;/wcseo:RGBgenerationHint&gt;</span>
      <span class="tag">&lt;/wcseo:rangeTypeExtension&gt;</span>
    <span class="tag">&lt;/swe:extension&gt;</span>
    <span class="tag">&lt;swe:label&gt;</span>Gray Channel/Band<span class="tag">&lt;/swe:label&gt;</span>
    <span class="tag">&lt;swe:field</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">gray</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
      <span class="tag">&lt;swe:Quantity</span> <span class="attribute-name">definition</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://sweet.jpl.nasa.gov/2.3/propEnergyFlux.owl#SpectralRadiance</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
        <span class="tag">&lt;swe:extension&gt;</span>
          <span class="tag">&lt;wcseo:rangeTypeExtension&gt;</span>
            <span class="tag">&lt;wcseo:dataSemantics&gt;</span>http://sweet.jpl.nasa.gov/2.3/stateSpectralBand.owl#Visible<span class="tag">&lt;/wcseo:dataSemantics&gt;</span>
            <span class="tag">&lt;wcseo:dataType&gt;</span>http://www.opengis.net/def/dataType/OGC/0/unsignedShort<span class="tag">&lt;/wcseo:dataType&gt;</span>
            <span class="tag">&lt;wcseo:dataType2dataSemantics&gt;</span>
              <span class="tag">&lt;wcseo:intervalFrom&gt;</span>1 4095<span class="tag">&lt;/wcseo:intervalFrom&gt;</span>
              <span class="tag">&lt;wcseo:intervalTo&gt;</span>390.0000 780.0000<span class="tag">&lt;/wcseo:intervalTo&gt;</span>
              <span class="tag">&lt;wcseo:type&gt;</span>http://sweet.jpl.nasa.gov/2.3/reprMathFunction.owl#Linear<span class="tag">&lt;/wcseo:type&gt;</span>
            <span class="tag">&lt;/wcseo:dataType2dataSemantics&gt;</span>
          <span class="tag">&lt;/wcseo:rangeTypeExtension&gt;</span>
        <span class="tag">&lt;/swe:extension&gt;</span>
        <span class="tag">&lt;swe:identifier&gt;</span>gray<span class="tag">&lt;/swe:identifier&gt;</span>
        <span class="tag">&lt;swe:label&gt;</span>Gray Channel/Band<span class="tag">&lt;/swe:label&gt;</span>
        <span class="tag">&lt;swe:description&gt;</span>Gray Channel/Band<span class="tag">&lt;/swe:description&gt;</span>
        <span class="tag">&lt;swe:nilValues&gt;</span>
          <span class="tag">&lt;swe:NilValues&gt;</span>
            <span class="tag">&lt;swe:nilValue</span> <span class="attribute-name">reason</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.opengis.net/def/nil/OGC/0/unknown</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>0<span class="tag">&lt;/swe:nilValue&gt;</span>
          <span class="tag">&lt;/swe:NilValues&gt;</span>
        <span class="tag">&lt;/swe:nilValues&gt;</span>
        <span class="tag">&lt;swe:uom</span> <span class="attribute-name">code</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">W.m-2.sr-1.nm-1</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
        <span class="tag">&lt;swe:constraint&gt;</span>
          <span class="tag">&lt;swe:AllowedValues&gt;</span>
            <span class="tag">&lt;swe:interval&gt;</span>0 4095<span class="tag">&lt;/swe:interval&gt;</span>
            <span class="tag">&lt;swe:significantFigures&gt;</span>4<span class="tag">&lt;/swe:significantFigures&gt;</span>
          <span class="tag">&lt;/swe:AllowedValues&gt;</span>
        <span class="tag">&lt;/swe:constraint&gt;</span>
      <span class="tag">&lt;/swe:Quantity&gt;</span>
    <span class="tag">&lt;/swe:field&gt;</span>
  <span class="tag">&lt;/swe:DataRecord&gt;</span>
<span class="tag">&lt;/gmlcov:rangeType&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The following is an example of a multispectral range type.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;gmlcov:rangeType&gt;</span>
  <span class="tag">&lt;swe:DataRecord</span> <span class="attribute-name">definition</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.opengis.net/def/property/OGC-EO/0/opt/SpectralMode/MULTISPECTRAL</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;swe:extension&gt;</span>
      <span class="tag">&lt;wcseo:rangeTypeExtension&gt;</span>
        <span class="tag">&lt;wcseo:RGBgenerationHint&gt;</span>
          <span class="tag">&lt;wcseo:bandSequence&gt;</span>red green blue<span class="tag">&lt;/wcseo:bandSequence&gt;</span>
          <span class="tag">&lt;wcseo:intervalFrom&gt;</span>1 65535<span class="tag">&lt;/wcseo:intervalFrom&gt;</span>
          <span class="tag">&lt;wcseo:intervalTo&gt;</span>1 255<span class="tag">&lt;/wcseo:intervalTo&gt;</span>
          <span class="tag">&lt;wcseo:type&gt;</span>http://sweet.jpl.nasa.gov/2.3/reprMathFunction.owl#Logarithmic<span class="tag">&lt;/wcseo:type&gt;</span>
        <span class="tag">&lt;/wcseo:RGBgenerationHint&gt;</span>
      <span class="tag">&lt;/wcseo:rangeTypeExtension&gt;</span>
    <span class="tag">&lt;/swe:extension&gt;</span>
    <span class="tag">&lt;swe:label&gt;</span>Multispectral product<span class="tag">&lt;/swe:label&gt;</span>
    <span class="tag">&lt;swe:field</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">blue</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
      <span class="tag">&lt;swe:Quantity</span> <span class="attribute-name">definition</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://sweet.jpl.nasa.gov/2.3/propEnergyFlux.owl#SpectralRadiance</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
        <span class="tag">&lt;swe:extension&gt;</span>
          <span class="tag">&lt;wcseo:rangeTypeExtension&gt;</span>
            <span class="tag">&lt;wcseo:dataSemantics&gt;</span>http://sweet.jpl.nasa.gov/2.3/stateSpectralBand.owl#Blue<span class="tag">&lt;/wcseo:dataSemantics&gt;</span>
            <span class="tag">&lt;wcseo:dataType&gt;</span>http://www.opengis.net/def/dataType/OGC/0/unsignedShort<span class="tag">&lt;/wcseo:dataType&gt;</span>
            <span class="tag">&lt;wcseo:dataType2dataSemantics&gt;</span>
              <span class="tag">&lt;wcseo:intervalFrom&gt;</span>1 65535<span class="tag">&lt;/wcseo:intervalFrom&gt;</span>
              <span class="tag">&lt;wcseo:intervalTo&gt;</span>455.0 492.0<span class="tag">&lt;/wcseo:intervalTo&gt;</span>
              <span class="tag">&lt;wcseo:type&gt;</span>http://sweet.jpl.nasa.gov/2.3/reprMathFunction.owl#Linear<span class="tag">&lt;/wcseo:type&gt;</span>
            <span class="tag">&lt;/wcseo:dataType2dataSemantics&gt;</span>
          <span class="tag">&lt;/wcseo:rangeTypeExtension&gt;</span>
        <span class="tag">&lt;/swe:extension&gt;</span>
        <span class="tag">&lt;swe:identifier&gt;</span>blue<span class="tag">&lt;/swe:identifier&gt;</span>
        <span class="tag">&lt;swe:label&gt;</span>Blue Channel/Band<span class="tag">&lt;/swe:label&gt;</span>
        <span class="tag">&lt;swe:description&gt;</span>Blue Channel/Band<span class="tag">&lt;/swe:description&gt;</span>
        <span class="tag">&lt;swe:nilValues&gt;</span>
          <span class="tag">&lt;swe:NilValues&gt;</span>
            <span class="tag">&lt;swe:nilValue</span> <span class="attribute-name">reason</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.opengis.net/def/nil/OGC/0/unknown</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>0<span class="tag">&lt;/swe:nilValue&gt;</span>
          <span class="tag">&lt;/swe:NilValues&gt;</span>
        <span class="tag">&lt;/swe:nilValues&gt;</span>
        <span class="tag">&lt;swe:uom</span> <span class="attribute-name">code</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">W.m-2.sr-1.nm-1</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
        <span class="tag">&lt;swe:constraint&gt;</span>
          <span class="tag">&lt;swe:AllowedValues&gt;</span>
            <span class="tag">&lt;swe:interval&gt;</span>0 65535<span class="tag">&lt;/swe:interval&gt;</span>
            <span class="tag">&lt;swe:significantFigures&gt;</span>5<span class="tag">&lt;/swe:significantFigures&gt;</span>
          <span class="tag">&lt;/swe:AllowedValues&gt;</span>
        <span class="tag">&lt;/swe:constraint&gt;</span>
      <span class="tag">&lt;/swe:Quantity&gt;</span>
    <span class="tag">&lt;/swe:field&gt;</span>
    <span class="tag">&lt;swe:field</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">green</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
      <span class="tag">&lt;swe:Quantity</span> <span class="attribute-name">definition</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://sweet.jpl.nasa.gov/2.3/propEnergyFlux.owl#SpectralRadiance</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
        <span class="tag">&lt;swe:extension&gt;</span>
          <span class="tag">&lt;wcseo:rangeTypeExtension&gt;</span>
            <span class="tag">&lt;wcseo:dataSemantics&gt;</span>http://sweet.jpl.nasa.gov/2.3/stateSpectralBand.owl#Green<span class="tag">&lt;/wcseo:dataSemantics&gt;</span>
            <span class="tag">&lt;wcseo:dataType&gt;</span>http://www.opengis.net/def/dataType/OGC/0/unsignedShort<span class="tag">&lt;/wcseo:dataType&gt;</span>
            <span class="tag">&lt;wcseo:dataType2dataSemantics&gt;</span>
              <span class="tag">&lt;wcseo:intervalFrom&gt;</span>1 65535<span class="tag">&lt;/wcseo:intervalFrom&gt;</span>
              <span class="tag">&lt;wcseo:intervalTo&gt;</span>492.0 557.0<span class="tag">&lt;/wcseo:intervalTo&gt;</span>
              <span class="tag">&lt;wcseo:type&gt;</span>http://sweet.jpl.nasa.gov/2.3/reprMathFunction.owl#Linear<span class="tag">&lt;/wcseo:type&gt;</span>
            <span class="tag">&lt;/wcseo:dataType2dataSemantics&gt;</span>
          <span class="tag">&lt;/wcseo:rangeTypeExtension&gt;</span>
        <span class="tag">&lt;/swe:extension&gt;</span>
        <span class="tag">&lt;swe:identifier&gt;</span>green<span class="tag">&lt;/swe:identifier&gt;</span>
        <span class="tag">&lt;swe:label&gt;</span>Green Channel/Band<span class="tag">&lt;/swe:label&gt;</span>
        <span class="tag">&lt;swe:description&gt;</span>Green Channel/Band<span class="tag">&lt;/swe:description&gt;</span>
        <span class="tag">&lt;swe:nilValues&gt;</span>
          <span class="tag">&lt;swe:NilValues&gt;</span>
            <span class="tag">&lt;swe:nilValue</span> <span class="attribute-name">reason</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.opengis.net/def/nil/OGC/0/unknown</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>0<span class="tag">&lt;/swe:nilValue&gt;</span>
          <span class="tag">&lt;/swe:NilValues&gt;</span>
        <span class="tag">&lt;/swe:nilValues&gt;</span>
        <span class="tag">&lt;swe:uom</span> <span class="attribute-name">code</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">W.m-2.sr-1.nm-1</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
        <span class="tag">&lt;swe:constraint&gt;</span>
          <span class="tag">&lt;swe:AllowedValues&gt;</span>
            <span class="tag">&lt;swe:interval&gt;</span>0 65535<span class="tag">&lt;/swe:interval&gt;</span>
            <span class="tag">&lt;swe:significantFigures&gt;</span>5<span class="tag">&lt;/swe:significantFigures&gt;</span>
          <span class="tag">&lt;/swe:AllowedValues&gt;</span>
        <span class="tag">&lt;/swe:constraint&gt;</span>
      <span class="tag">&lt;/swe:Quantity&gt;</span>
    <span class="tag">&lt;/swe:field&gt;</span>
    <span class="tag">&lt;swe:field</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">yellow</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
      <span class="tag">&lt;swe:Quantity</span> <span class="attribute-name">definition</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://sweet.jpl.nasa.gov/2.3/propEnergyFlux.owl#SpectralRadiance</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
        <span class="tag">&lt;swe:extension&gt;</span>
          <span class="tag">&lt;wcseo:rangeTypeExtension&gt;</span>
            <span class="tag">&lt;wcseo:dataSemantics&gt;</span>http://sweet.jpl.nasa.gov/2.3/stateSpectralBand.owl#Yellow<span class="tag">&lt;/wcseo:dataSemantics&gt;</span>
            <span class="tag">&lt;wcseo:dataType&gt;</span>http://www.opengis.net/def/dataType/OGC/0/unsignedShort<span class="tag">&lt;/wcseo:dataType&gt;</span>
            <span class="tag">&lt;wcseo:dataType2dataSemantics&gt;</span>
              <span class="tag">&lt;wcseo:intervalFrom&gt;</span>1 65535<span class="tag">&lt;/wcseo:intervalFrom&gt;</span>
              <span class="tag">&lt;wcseo:intervalTo&gt;</span>557.0 597.0<span class="tag">&lt;/wcseo:intervalTo&gt;</span>
              <span class="tag">&lt;wcseo:type&gt;</span>http://sweet.jpl.nasa.gov/2.3/reprMathFunction.owl#Linear<span class="tag">&lt;/wcseo:type&gt;</span>
            <span class="tag">&lt;/wcseo:dataType2dataSemantics&gt;</span>
          <span class="tag">&lt;/wcseo:rangeTypeExtension&gt;</span>
        <span class="tag">&lt;/swe:extension&gt;</span>
        <span class="tag">&lt;swe:identifier&gt;</span>yellow<span class="tag">&lt;/swe:identifier&gt;</span>
        <span class="tag">&lt;swe:label&gt;</span>Yellow Channel/Band<span class="tag">&lt;/swe:label&gt;</span>
        <span class="tag">&lt;swe:description&gt;</span>Yellow Channel/Band<span class="tag">&lt;/swe:description&gt;</span>
        <span class="tag">&lt;swe:nilValues&gt;</span>
          <span class="tag">&lt;swe:NilValues&gt;</span>
            <span class="tag">&lt;swe:nilValue</span> <span class="attribute-name">reason</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.opengis.net/def/nil/OGC/0/unknown</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>0<span class="tag">&lt;/swe:nilValue&gt;</span>
          <span class="tag">&lt;/swe:NilValues&gt;</span>
        <span class="tag">&lt;/swe:nilValues&gt;</span>
        <span class="tag">&lt;swe:uom</span> <span class="attribute-name">code</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">W.m-2.sr-1.nm-1</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
        <span class="tag">&lt;swe:constraint&gt;</span>
          <span class="tag">&lt;swe:AllowedValues&gt;</span>
            <span class="tag">&lt;swe:interval&gt;</span>0 65535<span class="tag">&lt;/swe:interval&gt;</span>
            <span class="tag">&lt;swe:significantFigures&gt;</span>5<span class="tag">&lt;/swe:significantFigures&gt;</span>
          <span class="tag">&lt;/swe:AllowedValues&gt;</span>
        <span class="tag">&lt;/swe:constraint&gt;</span>
      <span class="tag">&lt;/swe:Quantity&gt;</span>
    <span class="tag">&lt;/swe:field&gt;</span>
    <span class="tag">&lt;swe:field</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">orange</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
      <span class="tag">&lt;swe:Quantity</span> <span class="attribute-name">definition</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://sweet.jpl.nasa.gov/2.3/propEnergyFlux.owl#SpectralRadiance</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
        <span class="tag">&lt;swe:extension&gt;</span>
          <span class="tag">&lt;wcseo:rangeTypeExtension&gt;</span>
            <span class="tag">&lt;wcseo:dataSemantics&gt;</span>http://sweet.jpl.nasa.gov/2.3/stateSpectralBand.owl#Orange<span class="tag">&lt;/wcseo:dataSemantics&gt;</span>
            <span class="tag">&lt;wcseo:dataType&gt;</span>http://www.opengis.net/def/dataType/OGC/0/unsignedShort<span class="tag">&lt;/wcseo:dataType&gt;</span>
            <span class="tag">&lt;wcseo:dataType2dataSemantics&gt;</span>
              <span class="tag">&lt;wcseo:intervalFrom&gt;</span>1 65535<span class="tag">&lt;/wcseo:intervalFrom&gt;</span>
              <span class="tag">&lt;wcseo:intervalTo&gt;</span>597.0 622.0<span class="tag">&lt;/wcseo:intervalTo&gt;</span>
              <span class="tag">&lt;wcseo:type&gt;</span>http://sweet.jpl.nasa.gov/2.3/reprMathFunction.owl#Linear<span class="tag">&lt;/wcseo:type&gt;</span>
            <span class="tag">&lt;/wcseo:dataType2dataSemantics&gt;</span>
          <span class="tag">&lt;/wcseo:rangeTypeExtension&gt;</span>
        <span class="tag">&lt;/swe:extension&gt;</span>
        <span class="tag">&lt;swe:identifier&gt;</span>orange<span class="tag">&lt;/swe:identifier&gt;</span>
        <span class="tag">&lt;swe:label&gt;</span>Orange Channel/Band<span class="tag">&lt;/swe:label&gt;</span>
        <span class="tag">&lt;swe:description&gt;</span>Orange Channel/Band<span class="tag">&lt;/swe:description&gt;</span>
        <span class="tag">&lt;swe:nilValues&gt;</span>
          <span class="tag">&lt;swe:NilValues&gt;</span>
            <span class="tag">&lt;swe:nilValue</span> <span class="attribute-name">reason</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.opengis.net/def/nil/OGC/0/unknown</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>0<span class="tag">&lt;/swe:nilValue&gt;</span>
          <span class="tag">&lt;/swe:NilValues&gt;</span>
        <span class="tag">&lt;/swe:nilValues&gt;</span>
        <span class="tag">&lt;swe:uom</span> <span class="attribute-name">code</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">W.m-2.sr-1.nm-1</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
        <span class="tag">&lt;swe:constraint&gt;</span>
          <span class="tag">&lt;swe:AllowedValues&gt;</span>
            <span class="tag">&lt;swe:interval&gt;</span>0 65535<span class="tag">&lt;/swe:interval&gt;</span>
            <span class="tag">&lt;swe:significantFigures&gt;</span>5<span class="tag">&lt;/swe:significantFigures&gt;</span>
          <span class="tag">&lt;/swe:AllowedValues&gt;</span>
        <span class="tag">&lt;/swe:constraint&gt;</span>
      <span class="tag">&lt;/swe:Quantity&gt;</span>
    <span class="tag">&lt;/swe:field&gt;</span>
    <span class="tag">&lt;swe:field</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">red</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
      <span class="tag">&lt;swe:Quantity</span> <span class="attribute-name">definition</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://sweet.jpl.nasa.gov/2.3/propEnergyFlux.owl#SpectralRadiance</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
        <span class="tag">&lt;swe:extension&gt;</span>
          <span class="tag">&lt;wcseo:rangeTypeExtension&gt;</span>
            <span class="tag">&lt;wcseo:dataSemantics&gt;</span>http://sweet.jpl.nasa.gov/2.3/stateSpectralBand.owl#Red<span class="tag">&lt;/wcseo:dataSemantics&gt;</span>
            <span class="tag">&lt;wcseo:dataType&gt;</span>http://www.opengis.net/def/dataType/OGC/0/unsignedShort<span class="tag">&lt;/wcseo:dataType&gt;</span>
            <span class="tag">&lt;wcseo:dataType2dataSemantics&gt;</span>
              <span class="tag">&lt;wcseo:intervalFrom&gt;</span>1 65535<span class="tag">&lt;/wcseo:intervalFrom&gt;</span>
              <span class="tag">&lt;wcseo:intervalTo&gt;</span>622.0 780.0<span class="tag">&lt;/wcseo:intervalTo&gt;</span>
              <span class="tag">&lt;wcseo:type&gt;</span>http://sweet.jpl.nasa.gov/2.3/reprMathFunction.owl#Linear<span class="tag">&lt;/wcseo:type&gt;</span>
            <span class="tag">&lt;/wcseo:dataType2dataSemantics&gt;</span>
          <span class="tag">&lt;/wcseo:rangeTypeExtension&gt;</span>
        <span class="tag">&lt;/swe:extension&gt;</span>
        <span class="tag">&lt;swe:identifier&gt;</span>red<span class="tag">&lt;/swe:identifier&gt;</span>
        <span class="tag">&lt;swe:label&gt;</span>Red Channel/Band<span class="tag">&lt;/swe:label&gt;</span>
        <span class="tag">&lt;swe:description&gt;</span>Red Channel/Band<span class="tag">&lt;/swe:description&gt;</span>
        <span class="tag">&lt;swe:nilValues&gt;</span>
          <span class="tag">&lt;swe:NilValues&gt;</span>
            <span class="tag">&lt;swe:nilValue</span> <span class="attribute-name">reason</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.opengis.net/def/nil/OGC/0/unknown</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>0<span class="tag">&lt;/swe:nilValue&gt;</span>
          <span class="tag">&lt;/swe:NilValues&gt;</span>
        <span class="tag">&lt;/swe:nilValues&gt;</span>
        <span class="tag">&lt;swe:uom</span> <span class="attribute-name">code</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">W.m-2.sr-1.nm-1</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
        <span class="tag">&lt;swe:constraint&gt;</span>
          <span class="tag">&lt;swe:AllowedValues&gt;</span>
            <span class="tag">&lt;swe:interval&gt;</span>0 65535<span class="tag">&lt;/swe:interval&gt;</span>
            <span class="tag">&lt;swe:significantFigures&gt;</span>5<span class="tag">&lt;/swe:significantFigures&gt;</span>
          <span class="tag">&lt;/swe:AllowedValues&gt;</span>
        <span class="tag">&lt;/swe:constraint&gt;</span>
      <span class="tag">&lt;/swe:Quantity&gt;</span>
    <span class="tag">&lt;/swe:field&gt;</span>
  <span class="tag">&lt;/swe:DataRecord&gt;</span>
<span class="tag">&lt;/gmlcov:rangeType&gt;</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="coverage-collections">7. Coverage Collections</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_motivation">7.1. Motivation</h3>
<div class="paragraph">
<p>WCS originally was perceived to give access to single coverages taken from a
flat set of coverage offerings on the server.</p>
</div>
<div class="paragraph">
<p>This approach was based on the classical subdivision into metadata services
(i.e., catalogs) and data services, connected through some loose coupling
(which effectively was never standardized beyond the recommendation to use
URLs).</p>
</div>
<div class="paragraph">
<p>With the progress of requirements and technology it is more and more considered
important to merge data and metadata perspectives with the vision of a common
integrated information space.</p>
</div>
<div class="paragraph">
<p>For WCS, this means in particular to further structure a server&#8217;s offering of
coverages along various criteria.</p>
</div>
<div class="paragraph">
<p>Early on EO-WCS has provided a lead in this by introducing both uniform and
non-uniform coverage groupings together with dedicated search functionality
which is able to perform a focused search within coverage subsets.</p>
</div>
<div class="paragraph">
<p>With OGC Coverage Implementation Schema (CIS) 1.1 comes massively enhanced
support for structuring coverages. Therefore, a harmonization task has to be
accomplished to relate both concepts, which may well lead to an extension of
functionality for fully exploiting all benefits. One standardization
opportunity might be to generalize EO groupings, phase in CIS 1.1 concepts,
and establish a general WCS grouping extension.</p>
</div>
<div class="paragraph">
<p>A separate issue is how far recursion should be allowed: can a coverage
grouping be part of another coverage grouping, with unlimited nesting? While
the generality may be appealing it might pose severe extra complexity on
implementations.</p>
</div>
<div class="paragraph">
<p>In the following subsections, we discuss EO-relevant grouping concepts, based
on CIS and EO-WCS.</p>
</div>
<div class="paragraph">
<p>First, we address the special case of grouping coverages that share some
critical common properties. Next, we generalize this to arbitrary groupings of
coverages. Finally, we discuss registration issues.</p>
</div>
</div>
<div class="sect2">
<h3 id="uniform-coverage-grouping">7.2. Uniform Coverage Grouping</h3>
<div class="sect3">
<h4 id="_overview_3">7.2.1. Overview</h4>
<div class="paragraph">
<p>Uniform Coverage Groupings represent sets of coverages which are homogeneous
enough that they can collectively appear as a single coverage from a WCS
perspective - in particular, such items are amenable to GetCoverage requests.
Aside from their positioning in space/time through the domain set there is no
other particular order defined on such coverage sets.</p>
</div>
<div class="paragraph">
<p>Concretely, the requirements on the coverages contained in a Uniform Coverage
Grouping are as follows (as a direct consequential of the definition of
coverage):</p>
</div>
<div class="ulist">
<ul>
<li>
<p>all coverages contained shall have the same coverage type (i.e.,
combinations of Rectified and Referenceable Grid, or MultiPoint Coverages,
are prohibited);</p>
</li>
<li>
<p>all coverages contained shall have the same range type (whereby it needs to
be clarified when two range types are equal - for example, band names might
be not constitutive while quantity, unit of measure, and nil values likely
are);</p>
</li>
<li>
<p>all coverages contained shall have the same resolution;</p>
</li>
<li>
<p>all coverages contained shall have the same CRS in their domain set (note
that this is not technically necessary for the boundedBy element which gives
an informal, not necessarily minimal bounding box for a quick location
determination);</p>
</li>
<li>
<p>for each direct position (i.e., pixel) in the spatial domain of the Uniform
Coverage Grouping there shall be exactly one range value - in other words,
there shall be no "holes" and no duplicate pixel values.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In the context of EO-WCS, the coverage subtype <code>StitchedMosaic</code> implements the
Uniform Coverage Grouping.</p>
</div>
</div>
<div class="sect3">
<h4 id="_a_concept_for_uniform_coverage_groupings">7.2.2. A Concept for Uniform Coverage Groupings</h4>
<div class="paragraph">
<p>TODO
    Idea: Derive DatasetSeries subtype where rangeType is fixed for all
    included coverages (maybe using schematron?). Make sure that this subtype
    is substitutable (substitutionGroup?) and instances still validate against
    EO-WCS 1.1 schemas.</p>
</div>
</div>
<div class="sect3">
<h4 id="_coverage_groupings_in_cis_1_1_versus_eo_wcs_1_1">7.2.3. Coverage Groupings in CIS 1.1 versus EO-WCS 1.1</h4>
<div class="paragraph">
<p>CIS 1.1 offers a conformance class, <code>coverage-partitioning</code>, which allows
splitting a coverage into pieces - in other words, a coverage can be composed
from sub-coverages. This nesting of coverages actually is recursive, allowing
to establish hierarchically nested coverages.</p>
</div>
<div class="paragraph">
<p>As the new partitioning functionality of CIS 1.1 still defines a - partitioned
- coverage the same homogeneity criteria must hold as for "atomic" coverages:
they must have a common range type and domain set CRS, and common range
components ("bands", "variables") must not overlap. Note that the latter
constraint allows that different sub-coverages can overlap in their domain
set, but only when contributing to different range components; this way, bands
stored in single files, for example, can be assembled into multi-band
coverages.</p>
</div>
<div class="paragraph">
<p>EO-WCS, in comparison, allows coverages to overlap in a grouping, both in
DatasetSeries as well as StitchedMosaics. In the latter, StitchedMosaics, the
extra concept of a "contributing footprint" captures the overlap by indicating
which pixel contributes to the coverage - effectively, the contributing
footprint acts like a mask blanking out parts of a coverage, thereby achieving
a unique pixel for each position while retaining overlap information. This -
more involved - concept is not directly supported by the CIS 1.1 partitioning.</p>
</div>
<div class="paragraph">
<p>Obviously, there is a strong resemblance of concepts between CIS 1.1 and EO-
WCS 1.1. We therefore propose to carefully review forthcoming CIS 1.1 and how
far it accomplishes the grouping concepts proposed in this section.</p>
</div>
<div class="paragraph">
<p>Further, it should be noted that CIS 1.1 foresees a general object about which
no further normative constraints are made. Collections of coverages could be
derived from such objects if deemed feasible.</p>
</div>
</div>
<div class="sect3">
<h4 id="_modeling_of_grouping_data_and_operations">7.2.4. Modeling of Grouping Data and Operations</h4>
<div class="paragraph">
<p>To capture as much of the semantics of such groupings - and hence ensure
integrity at the highest possible level - schematron can be used. The
following consistency constraints seem addressable:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>require the same coverage type, range type, CRS on all items contained in
the grouping;</p>
</li>
<li>
<p>require the same resolution (this information, though, is directly
accessible only in CIS 1.1; in GMLCOV/CIS 1.0 it can only be computed
through means beyond schematron); The final constraint - non-overlapping
sub-coverages and no "holes" in super-coverage - can only be solved
algorithmically, not through schematron - in particular, in presence of
"contributing footprint" polygons as per EO-WCS.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In terms of operations, a Uniform Coverage Grouping needs to allow a
GetCoverage request. The result might be a "consolidated" flat coverage
reassembled from the sub-coverages, or a collection retaining those original
or cropped sub-coverages selected by the GetCoverage subsetting request.
Further, subset extraction is meaningful for obtaining particular sub-
coverages; in EO-WCS, this is accomplished through the DescribeEOCoverageSet
request type.</p>
</div>
<div class="paragraph">
<p>Note that CIS 1.1 allows any suitable container format (such as zip, SAFE,
etc.), thereby making delivery of "packages" representing Uniform Coverage
Groupings flexible and user-oriented.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_general_grouping_of_coverages">7.3. General Grouping of Coverages</h3>
<div class="sect3">
<h4 id="_concept">7.3.1. Concept</h4>
<div class="paragraph">
<p>Generalizing the uniform grouping from above, coverages can be aggregated into
some topical information collection without any constraints of the elements
grouped, and without the need of them to form a single super-coverage.</p>
</div>
<div class="paragraph">
<p>For example, EO products are typically stored in single files, either using a
special binary EO format like NetCDF or ENVISAT N1, a special EO container
format like SAFE, e.g. Sentinel-2, or DIMAP, or a general container format
like TAR or ZIP. Sometimes EO products are stored as multiple files, e.g.,
sets of Landsat-8 files.</p>
</div>
<div class="paragraph">
<p>Modeling such grouped data as a coverage and allow GetCoverage requests would
conceptually break the coverage definition and would also overburden WCS,
rendering it impractical. Thus we propose to follow and extend the approach
already established in EO-WCS and enhance the concept of <code>DatasetSeries</code> to
incorporate the additional requirements that have come up to grasp more
application semantics:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>constrain participating coverages in their types; for example, a collection
representing a product may consist of several hyperspectral images forming a
timeseries, plus one binary mask; this can be expressed, for example, via
schematron;</p>
</li>
<li>
<p>restrict the range set, e.g., to particular bands; again, schematron can be
used for this;</p>
</li>
<li>
<p>Further, the OpenSearch EO Extension imposes a restriction in that it
supports only two levels of grouping. Translated into the DatasetSeries
modeling this means that a DatasetSeries cannot contain a DatasetSeries
containing DatasetSeries itself. This can again be expressed through
Schematron.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="grouping-of-associated-data">7.3.2. Encoding and Grouping of Associated Data</h4>
<div class="paragraph">
<p>We now address the encoding of multiple coverages, potentially representing an
EO Product, in a package format like TAR or ZIP. Given the new operation
GetEOCoverageSet the only point missing is the inclusion of metadata on
package level.</p>
</div>
<div class="paragraph">
<p>Basically the EOMetadata element has been amended to be in the
<code>substitutionGroup</code> of <code>ows:AbstractMetaData</code> and the choice is extended by
references to ISO 19139 <code>MD_Metadata</code>, which can be substituted by ISO 19139-2
<code>MI_Metadata</code>, and ISO 19115-3 <code>MD_Metadata</code>. To recap, the already available
options are EO-O&amp;M, or EOP as it is referred to sometimes, or by reference as
seen in the example below. A complete
<a href="https://github.com/Schpidi/eo-wcs/blob/evo-odas/schema/wcseo/examples/wcseo_responseDescribeEOCoverageSet_minimal.xml">example</a>
is provided with the EO-WCS standard.</p>
</div>
<div class="paragraph">
<p>These choices leave the option to use the concept of Dataset Series for
offering collections but also for EO Products. Although named Dataset Series
technically speaking it is a heterogeneous grouping of coverages and/or Dataset
Series and can thus be used for any other concept like an EO Product containing
multiple coverages with different resolutions as well.</p>
</div>
<div class="paragraph">
<p>The example below shows a complete <code>DatasetSeries</code> element including a
reference to further metadata.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="preprocessor">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="tag">&lt;wcseo:DatasetSeries</span> <span class="attribute-name">xmlns:ows</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.opengis.net/ows/2.0</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">xmlns:gml</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.opengis.net/gml/3.2</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">xmlns:wcs</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.opengis.net/wcs/2.0</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">xmlns:wcseo</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.opengis.net/wcs/wcseo/1.1</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">xmlns:xlink</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.w3.org/1999/xlink</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">xmlns:xsi</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.w3.org/2001/XMLSchemainstance</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">xsi:schemaLocation</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.opengis.net/wcs/wcseo/1.1 http://schemas.opengis.net/wcs/wcseo/1.1/wcsEOAll.xsd</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
  <span class="tag">&lt;wcseo:DatasetSeriesId&gt;</span>someDatasetSeries1<span class="tag">&lt;/wcseo:DatasetSeriesId&gt;</span>
  <span class="tag">&lt;eop:Footprint</span> <span class="attribute-name">gml:id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">footprint_someDatasetSeries1</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;eop:multiExtentOf&gt;</span>
      <span class="tag">&lt;gml:MultiSurface</span> <span class="attribute-name">gml:id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">multisurface_someDatasetSeries1</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">srsName</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
        <span class="tag">&lt;gml:surfaceMembers&gt;</span>
          <span class="tag">&lt;gml:Polygon</span> <span class="attribute-name">gml:id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">polygon_someDatasetSeries1</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
            <span class="tag">&lt;gml:exterior&gt;</span>
              <span class="tag">&lt;gml:LinearRing&gt;</span>
                <span class="tag">&lt;gml:posList&gt;</span>43.516667 2.1025 43.381667 2.861667 42.862778 2.65 42.996389 1.896944 43.516667 2.1025<span class="tag">&lt;/gml:posList&gt;</span>
              <span class="tag">&lt;/gml:LinearRing&gt;</span>
              <span class="tag">&lt;/gml:exterior&gt;</span>
            <span class="tag">&lt;/gml:Polygon&gt;</span>
          <span class="tag">&lt;/gml:surfaceMembers&gt;</span>
        <span class="tag">&lt;/gml:MultiSurface&gt;</span>
    <span class="tag">&lt;/eop:multiExtentOf&gt;</span>
  <span class="tag">&lt;/eop:Footprint&gt;</span>
  <span class="tag">&lt;gml:TimePeriod</span> <span class="attribute-name">gml:id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">someDatasetSeries1_timeperiod</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;gml:beginPosition&gt;</span>2008-03-13T00:00:00.000<span class="tag">&lt;/gml:beginPosition&gt;</span>
    <span class="tag">&lt;gml:endPosition&gt;</span>2008-03-13T23:59:59.999<span class="tag">&lt;/gml:endPosition&gt;</span>
  <span class="tag">&lt;/gml:TimePeriod&gt;</span>
  <span class="tag">&lt;ows:Metadata&gt;</span>
    <span class="tag">&lt;wcseo:EOMetadata&gt;</span>
      <span class="tag">&lt;ows:Reference</span> <span class="attribute-name">xlink:href</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.someCatalogue.org/eop-metadatafrom-someDatasetSeries1</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">xlink:role</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://standards.iso.org/iso/19115/-3/mdb/1.0</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">xlink:title</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">ISO 19115-3 Metadata</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span>
    <span class="tag">&lt;/wcseo:EOMetadata&gt;</span>
  <span class="tag">&lt;/ows:Metadata&gt;</span>
  <span class="tag">&lt;wcseo:rectifiedDataset&gt;</span>
    <span class="tag">&lt;wcs:CoverageId&gt;</span>someEOCoverage1<span class="tag">&lt;/wcs:CoverageId&gt;</span>
  <span class="tag">&lt;/wcseo:rectifiedDataset&gt;</span>
<span class="tag">&lt;/wcseo:DatasetSeries&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Of course the mechanism of using <code>Reference</code> elements in <code>Metadata</code> elements
can also be used for associated data.</p>
</div>
<div class="paragraph">
<p>We propose to further investigate if a GetEOCoverageRequest together with a
<code>mediaType</code> of <code>multipart/related</code> is suitable to be used for data access to
whole EO Products. In a first step this will be verified using general
container formats as written above. The next step then is to investigate the
suitability of this approach also for special EO container formats like SAFE
and special binary EO formats like NetCDF or ENVISAT N1.</p>
</div>
<div class="paragraph">
<p>The first part of the multipart response would look like the example below but
additionally include <code>Reference</code> elements to the associated data inside
<code>Metadata</code> elements of the <code>DatasetSeries</code> element. Of course the second part
of the multipart response needs to include all the referenced files.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="preprocessor">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="tag">&lt;wcseo:EOCoverageSet</span> <span class="attribute-name">numberMatched</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">3</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">numberReturned</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">3</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">xmlns:ows</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.opengis.net/ows/2.0</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">xmlns:gml</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.opengis.net/gml/3.2</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">xmlns:gmlcov</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.opengis.net/ mlcov/1.0</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">xmlns:swe</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.opengis.net/swe/2.0</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">xmlns:wcs</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.opengis.net/wcs/2.0</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">xmlns:wcseo</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.opengis.net/wcs/wcseo/1.1</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">xmlns:eop</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.opengis.net/eop/2.1</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">xmlns:om</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.opengis.net/om/2.0</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">xmlns:xlink</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.w3.org/1999/xlink</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">xmlns:xsi</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.w3.org/2001/XMLSchema-instance</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">xsi:schemaLocation</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.opengis.net/wcs/wcseo/1.1 http://schemas.opengis.net/wcs/wcseo/1.1/wcsEOAll.xsd</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
  <span class="tag">&lt;wcseo:RectifiedDataset</span> <span class="attribute-name">gml:id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">someEOCoverage1</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;gml:boundedBy&gt;</span>
    ...
    <span class="tag">&lt;/gml:boundedBy&gt;</span>
    <span class="tag">&lt;gml:domainSet&gt;</span>
    ...
    <span class="tag">&lt;/gml:domainSet&gt;</span>
    <span class="tag">&lt;gml:rangeSet&gt;</span>
      <span class="tag">&lt;gml:File&gt;</span>
        <span class="tag">&lt;gml:rangeParameters</span> <span class="attribute-name">xlink:arcrole</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">fileReference</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">xlink:href</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">cid:coverage.meta4;someEOCoverage1.tif</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">xlink:role</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.opengis.net/spec/GMLCOV_geotiff-coverages/1.0/conf/geotiff-coverage</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span>
        <span class="tag">&lt;gml:fileReference&gt;</span>cid:coverage.meta4;someEOCoverage1.tif<span class="tag">&lt;/gml:fileReference&gt;</span>
        <span class="tag">&lt;gml:fileStructure</span> <span class="tag">/&gt;</span>
        <span class="tag">&lt;gml:mimeType&gt;</span>image/tiff<span class="tag">&lt;/gml:mimeType&gt;</span>
      <span class="tag">&lt;/gml:File&gt;</span>
    <span class="tag">&lt;/gml:rangeSet&gt;</span>
    <span class="tag">&lt;gmlcov:rangeType&gt;</span>
    ...
    <span class="tag">&lt;/gmlcov:rangeType&gt;</span>
    <span class="tag">&lt;gmlcov:metadata&gt;</span>
      <span class="tag">&lt;gmlcov:Extension&gt;</span>
        <span class="tag">&lt;wcseo:EOMetadata&gt;</span>
          <span class="tag">&lt;eop:EarthObservation</span> <span class="attribute-name">gml:id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">eop_someEOCoverage1</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
          ...
          <span class="tag">&lt;/eop:EarthObservation&gt;</span>
          <span class="tag">&lt;wcseo:lineage&gt;</span>
            <span class="tag">&lt;wcseo:referenceGetEOCoverageSet&gt;</span>
              <span class="tag">&lt;ows:Reference</span> <span class="attribute-name">xlink:href</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.someWCS.org?SERVICE=WCS</span><span class="entity">&amp;amp;</span><span class="content">VERSION=2.0.1</span><span class="entity">&amp;amp;</span><span class="content">REQUEST=GetEOCoverageSet</span><span class="entity">&amp;amp;</span><span class="content">EOID=someDatasetSeries1</span><span class="entity">&amp;amp;</span><span class="content">PACKAGEFORMAT=application/metalink4+xml</span><span class="entity">&amp;amp;</span><span class="content">MEDIATYPE=multipart/related</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span>
            <span class="tag">&lt;/wcseo:referenceGetEOCoverageSet&gt;</span>
            <span class="tag">&lt;gml:timePosition&gt;</span>2016-05-17T12:25:40Z<span class="tag">&lt;/gml:timePosition&gt;</span>
          <span class="tag">&lt;/wcseo:lineage&gt;</span>
        <span class="tag">&lt;/wcseo:EOMetadata&gt;</span>
      <span class="tag">&lt;/gmlcov:Extension&gt;</span>
    <span class="tag">&lt;/gmlcov:metadata&gt;</span>
  <span class="tag">&lt;/wcseo:RectifiedDataset&gt;</span>
  <span class="tag">&lt;wcseo:RectifiedDataset</span> <span class="attribute-name">gml:id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">someEOCoverage2</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;gml:boundedBy&gt;</span>
    ...
    <span class="tag">&lt;/gml:boundedBy&gt;</span>
    <span class="tag">&lt;gml:domainSet&gt;</span>
    ...
    <span class="tag">&lt;/gml:domainSet&gt;</span>
    <span class="tag">&lt;gml:rangeSet&gt;</span>
      <span class="tag">&lt;gml:File&gt;</span>
        <span class="tag">&lt;gml:rangeParameters</span> <span class="attribute-name">xlink:arcrole</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">fileReference</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">xlink:href</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">cid:coverage.meta4;someEOCoverage2.tif</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">xlink:role</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.opengis.net/spec/GMLCOV_geotiff-coverages/1.0/conf/geotiff-coverage</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span>
        <span class="tag">&lt;gml:fileReference&gt;</span>cid:coverage.meta4;someEOCoverage2.tif<span class="tag">&lt;/gml:fileReference&gt;</span>
        <span class="tag">&lt;gml:fileStructure</span> <span class="tag">/&gt;</span>
        <span class="tag">&lt;gml:mimeType&gt;</span>image/tiff<span class="tag">&lt;/gml:mimeType&gt;</span>
        <span class="tag">&lt;/gml:File&gt;</span>
    <span class="tag">&lt;/gml:rangeSet&gt;</span>
    <span class="tag">&lt;gmlcov:rangeType&gt;</span>
    ...
    <span class="tag">&lt;/gmlcov:rangeType&gt;</span>
    <span class="tag">&lt;gmlcov:metadata&gt;</span>
      <span class="tag">&lt;gmlcov:Extension&gt;</span>
        <span class="tag">&lt;wcseo:EOMetadata&gt;</span>
          <span class="tag">&lt;eop:EarthObservation</span> <span class="attribute-name">gml:id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">eop_someEOCoverage2</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
          ...
          <span class="tag">&lt;/eop:EarthObservation&gt;</span>
          <span class="tag">&lt;wcseo:lineage&gt;</span>
            <span class="tag">&lt;wcseo:referenceGetEOCoverageSet&gt;</span>
              <span class="tag">&lt;ows:Reference</span> <span class="attribute-name">xlink:href</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.someWCS.org?SERVICE=WCS</span><span class="entity">&amp;amp;</span><span class="content">VERSION=2.0.1</span><span class="entity">&amp;amp;</span><span class="content">REQUEST=GetEOCoverageSet</span><span class="entity">&amp;amp;</span><span class="content">EOID=someDatasetSeries1</span><span class="entity">&amp;amp;</span><span class="content">PACKAGEFORMAT=application/metalink4+xml</span><span class="entity">&amp;amp;</span><span class="content">MEDIATYPE=multipart/related</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span>
            <span class="tag">&lt;/wcseo:referenceGetEOCoverageSet&gt;</span>
            <span class="tag">&lt;gml:timePosition&gt;</span>2016-05-17T12:25:40Z<span class="tag">&lt;/gml:timePosition&gt;</span>
          <span class="tag">&lt;/wcseo:lineage&gt;</span>
        <span class="tag">&lt;/wcseo:EOMetadata&gt;</span>
      <span class="tag">&lt;/gmlcov:Extension&gt;</span>
    <span class="tag">&lt;/gmlcov:metadata&gt;</span>
  <span class="tag">&lt;/wcseo:RectifiedDataset&gt;</span>
  <span class="tag">&lt;wcseo:DatasetSeries&gt;</span>
    <span class="tag">&lt;wcseo:DatasetSeriesId&gt;</span>someDatasetSeries1<span class="tag">&lt;/wcseo:DatasetSeriesId&gt;</span>
    <span class="tag">&lt;eop:Footprint</span> <span class="attribute-name">gml:id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">footprint_someDatasetSeries1</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    ...
    <span class="tag">&lt;/eop:Footprint&gt;</span>
    <span class="tag">&lt;gml:TimePeriod</span> <span class="attribute-name">gml:id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">someDatasetSeries1_timeperiod</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    ...
    <span class="tag">&lt;/gml:TimePeriod&gt;</span>
    <span class="tag">&lt;ows:Metadata&gt;</span>
      <span class="tag">&lt;wcseo:EOMetadata&gt;</span>
        <span class="tag">&lt;ows:Reference</span> <span class="attribute-name">xlink:href</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.someCatalogue.org/eop-metadatafrom-someDatasetSeries1</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">xlink:role</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://standards.iso.org/iso/19115/-3/mdb/1.0</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">xlink:title</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">ISO 19115-3 Metadata</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span>
        <span class="tag">&lt;wcseo:lineage&gt;</span>
          <span class="tag">&lt;wcseo:referenceGetEOCoverageSet&gt;</span>
          <span class="tag">&lt;ows:Reference</span> <span class="attribute-name">xlink:href</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.someWCS.org?SERVICE=WCS</span><span class="entity">&amp;amp;</span><span class="content">VERSION=2.0.1</span><span class="entity">&amp;amp;</span><span class="content">REQUEST=GetEOCoverageSet</span><span class="entity">&amp;amp;</span><span class="content">EOID=someDatasetSeries1</span><span class="entity">&amp;amp;</span><span class="content">PACKAGEFORMAT=application/metalink4+xml</span><span class="entity">&amp;amp;</span><span class="content">MEDIATYPE=multipart/related</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
        <span class="tag">&lt;/wcseo:referenceGetEOCoverageSet&gt;</span>
        <span class="tag">&lt;gml:timePosition&gt;</span>2016-05-17T12:25:40Z<span class="tag">&lt;/gml:timePosition&gt;</span>
        <span class="tag">&lt;/wcseo:lineage&gt;</span>
      <span class="tag">&lt;/wcseo:EOMetadata&gt;</span>
    <span class="tag">&lt;/ows:Metadata&gt;</span>
    <span class="tag">&lt;wcseo:rectifiedDataset&gt;</span>
      <span class="tag">&lt;wcs:CoverageId&gt;</span>someEOCoverage1<span class="tag">&lt;/wcs:CoverageId&gt;</span>
    <span class="tag">&lt;/wcseo:rectifiedDataset&gt;</span>
    <span class="tag">&lt;wcseo:rectifiedDataset&gt;</span>
      <span class="tag">&lt;wcs:CoverageId&gt;</span>someEOCoverage2<span class="tag">&lt;/wcs:CoverageId&gt;</span>
    <span class="tag">&lt;/wcseo:rectifiedDataset&gt;</span>
  <span class="tag">&lt;/wcseo:DatasetSeries&gt;</span>
<span class="tag">&lt;/wcseo:EOCoverageSet&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>An additional consideration is to harmonize this proposal with EO-O&amp;M as
adopted by EO-WCS. EO-O&amp;M is designed to define a catalog record for one EO
product including links to various raster or vector features like measurements,
browses, masks, etc.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="collection-and-product-registration">7.4. Collection and Product Registration</h3>
<div class="paragraph">
<p>So far, access to coverages and groupings has been discussed. However, with
WCS-T Web-based maintenance of coverage offerings is possible, including
insertion, update, and deletion of coverages. This functionality might get
extended with maintenance operations on coverage collections.</p>
</div>
<div class="paragraph">
<p>Essentially, this would include creation and removal of collections, inclusion
of coverages into an existing collection as well as excluding selected
coverages, and maybe more.</p>
</div>
<div class="paragraph">
<p>Relevant existing approaches should be considered appropriately, such as the
GeoServer REST API 2.0.</p>
</div>
<div class="paragraph">
<p>TODO</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="condense-coverage-description-information">8. Condense Coverage Description Information</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_overview_4">8.1. Overview</h3>
<div class="paragraph">
<p>OpenSearch is the designated EVO-ODAS endorsed search service. Thus we propose
to extend OpenSearch in a way to allow clients to specify the verbosity of the
answer.</p>
</div>
<div class="paragraph">
<p>Below we draft the usage of a new parameter named <code>view</code>. Alternatively the
suitability of the OpenSearch SRU (Search and Retrieval via URL) extension
should be investigated.</p>
</div>
<div class="paragraph">
<p>Several allowed values are defined in that proposal ranging from <code>full</code> for
everything to <code>geotime</code> for a very limited view only including id, name, bbox,
start, and end.</p>
</div>
<div class="paragraph">
<p>Additionally, there is the idea of adding histogram like functionality i.e.,
requesting summary information for defined buckets like months.</p>
</div>
<div class="paragraph">
<p>It should be noted that there exists an alternative approach to searching which
is based on XPath enabling traversal and subsetting of a server&#8217;s XML
information hierarchy.</p>
</div>
<div class="paragraph">
<p>Although XPath looks like a promising approach there are some difficulties
particularly from an implementation point of view. In general, an XML document
can only be subsetted using XPath once it has been generated. This approach
wouldn&#8217;t scale well on server implementations. Of course particular queries can
be computed on the fly but to allow generic XPath queries is quite challenging.</p>
</div>
<div class="paragraph">
<p>Another issue is, that XPath returns subsets of XML documents without
maintaining overlying hierarchy. While it is simple to retrieve a list of
coverage IDs for certain search criteria it is difficult if not impossible to
retrieve for the same list of coverages tailored coverage descriptions only
containing ID, phenomenon time, and footprint.</p>
</div>
<div class="paragraph">
<p>Further challenges arise when the query is supposed to contain time or spatial
subsetting.</p>
</div>
<div class="paragraph">
<p>OpenSearch and XPath are not competing, but complementary approaches:
OpenSearch empowers users to do human-centric search through keywords. XPath,
conversely, enables fine-grain drilling into the server&#8217;s information structure
and, hence, is suitable in particular for machine-to-machine communication.</p>
</div>
<div class="paragraph">
<p>Both search types, therefore, are important for versatile coverage services. In
EVO-ODAS, the OpenSearch avenue will be elaborated.</p>
</div>
<div class="paragraph">
<p>TODO</p>
</div>
</div>
<div class="sect2">
<h3 id="_opensearch_code_view_code_parameter">8.2. OpenSearch <code>view</code> parameter</h3>
<div class="sect3">
<h4 id="_objective">8.2.1. Objective</h4>
<div class="paragraph">
<p>This proposal adds support for different levels of verbosity in OpenSearch
responses. Clients mainly need a complete and detailed view on the result set
but for example to show data availability on a time slider only a limited view
is needed. This limited view provides a great opportunity for performance
optimization, in response generation time on the server, in response size and
thus transfer time, and in response parsing time on the client.</p>
</div>
<div class="paragraph">
<p>The proposal adds a parameter named <code>view</code> to the OpenSearch URL template using
the OpenSearch Parameter extension. It further defines several mandatory and
optional options for predefined values for the new parameter including the
definition of the content of response. Additionally it leaves room to add
custom options as needed.</p>
</div>
<div class="paragraph">
<p>This shows an example of an <code>Url</code> element using the <code>view</code> parameter:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>&lt;Url xmlns:param="http://a9.com/-/spec/opensearch/extensions/parameters/1.0/"
     xmlns:eo="http://a9.com/-/opensearch/extensions/eo/1.0/"
     type="application/atom+xml"
     rel="collection"
     template="http://example.com/atom?q={searchTerms}&amp;amp;view={eo:view}"&gt;
  &lt;param:Parameter name="view"
                   value="{eo:view}"
                   title="Verbosity of the response. Default: full"
                   pattern="full|brief|geotime"
                   minimum="0"&gt;
    &lt;param:Option value="full" label="Complete and detailed view."/&gt;
    &lt;param:Option value="brief" label="Brief view to get a quick impression."/&gt;
    &lt;param:Option value="geotime" label="View to show data availability on a time slider."/&gt;
  &lt;/param:Parameter&gt;
&lt;/Url&gt;</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="__code_view_code_parameter">8.2.2. <code>view</code> Parameter</h4>
<div class="paragraph">
<p>The new <code>view</code> parameter reuses the namespace of the OGC® OpenSearch Extension
for Earth Observation [OGC 13-026r8]. It is used as <code>view={eo:view}</code> in the
template attribute of <code>Url</code> elements.</p>
</div>
<div class="paragraph">
<p>The following mandatory and optional option values are defined:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>full</code> - mandatory - Complete and detailed view.</p>
</li>
<li>
<p><code>brief</code> - mandatory - Brief view to get a quick impression.</p>
</li>
<li>
<p><code>geotime</code> - optional - View to show data availability on a time slider.</p>
</li>
<li>
<p>TODO</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Not all options have to necessarily be made available with each format.
The <code>geotime</code> option for example might be available with JSON or CSV formatting
but not with ATOM.
</td>
</tr>
</table>
</div>
<div class="sect4">
<h5 id="__code_full_code"><code>full</code></h5>
<div class="paragraph">
<p>TODO: Use full EOP</p>
</div>
</div>
<div class="sect4">
<h5 id="__code_brief_code"><code>brief</code></h5>
<div class="paragraph">
<p>TODO: Check with CSW</p>
</div>
</div>
<div class="sect4">
<h5 id="__code_geotime_code"><code>geotime</code></h5>
<div class="paragraph">
<p>Using this option returns the needed metadata to show data availability on a
time slider. The needed metadata are identifier, name, bounding box or
footprint in EPSG:4326, start time, and end time.</p>
</div>
<div class="paragraph">
<p>This is a response example in CSV format:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>"identifier","name","bbox","starttime","endtime"
"1","Satellite image","(40,10,50,20)","2016-04-20T00:00:00Z","2016-04-20T23:59:59Z"</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_custom_options">Custom options</h5>
<div class="paragraph">
<p>TODO</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="wcs-masking-extension">9. WCS Masking Extension</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_overview_5">9.1. Overview</h3>
<div class="paragraph">
<p>We propose to extend the GetCoverage request with parameters to request a
masking via a mask coverage or polygons e.g. given as GeoJSON or shapefile. The
coverage of polygons can be given by reference or, if small enough, included
directly in the request in case of polygons as WKT.</p>
</div>
<div class="paragraph">
<p>The response shall use a defined NoData value for areas outside of the mask.</p>
</div>
<div class="paragraph">
<p>This will be described first in the EO Data Access Best Practice at hand.
Later on this might be promoted to an actual WCS extension.</p>
</div>
<div class="paragraph">
<p>TODO</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="conclusions">10. Conclusions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section summarizes intended use and benefits of EO-WCS 1.1.</p>
</div>
<div class="paragraph">
<p>Among others, this might mention that EO-WCS 1.0 has inspired coverage
extensions, and it can be expected that EO-WCS 1.1 work will have a similar
impact.</p>
</div>
<div class="paragraph">
<p>TODO</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_bibliography">Bibliography</h2>
<div class="sectionbody">
<div class="ulist bibliography">
<ul class="bibliography">
<li>
<p><a id="1"></a>[1] OGC 09-153, WCS 2.0 Overview: Core and Extensions, version 1.0.0</p>
</li>
<li>
<p><a id="2"></a>[2] ISO 8601:2004(E) Data elements and interchange formats - Information
interchange - Representation of dates and time</p>
</li>
<li>
<p><a id="3"></a>[3] IETF RFC 2616, Hypertext Transfer Protocol&#8201;&#8212;&#8201;HTTP/1.1. IETF, 1999</p>
</li>
<li>
<p><a id="4"></a>[4] www.epsg.org</p>
</li>
<li>
<p><a id="5"></a>[5] W3C Note 11, SOAP Messages with Attachments. W3C Note 11, 2000</p>
</li>
<li>
<p><a id="6"></a>[6] XML Schema Part 2: Datatypes Second Edition, W3C Recommendation, 2004</p>
</li>
<li>
<p><a id="7"></a>[7] OpenSearch Specification, 1.1, Draft 5</p>
</li>
<li>
<p><a id="8"></a>[8] OGC 09-025r2, OpenGIS Web Feature Service 2.0 Interface Standard -
With Corrigendum, version 2.0.2</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_revision_history">Annex A: Revision History</h2>
<div class="sectionbody">
<table id="revision_history" class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 8.3333%;">
<col style="width: 25%;">
<col style="width: 16.6666%;">
<col style="width: 33.3335%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Date</th>
<th class="tableblock halign-left valign-top">Release</th>
<th class="tableblock halign-left valign-top">Author</th>
<th class="tableblock halign-left valign-top">Paragraph modified</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TBD</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.0.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Stephan Meißl</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Draft proposal from ESA project
EVO-ODAS</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2017-11-06 14:46:00 CET
</div>
</div>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  messageStyle: "none",
  tex2jax: {
    inlineMath: [["\\(", "\\)"]],
    displayMath: [["\\[", "\\]"]],
    ignoreClass: "nostem|nolatexmath"
  },
  asciimath2jax: {
    delimiters: [["\\$", "\\$"]],
    ignoreClass: "nostem|noasciimath"
  },
  TeX: { equationNumbers: { autoNumber: "none" } }
});
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.6.0/MathJax.js?config=TeX-MML-AM_HTMLorMML"></script>
</body>
</html>